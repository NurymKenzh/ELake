@using ELake.Controllers
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<SharedResources> SharedLocalizer
@{
    ViewData["Title"] = @SharedLocalizer["Home"];
}

<link href="~/lib/jquery-ui/themes/base/jquery-ui.css" rel="stylesheet" />
<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/lib/jquery-ui/jquery-ui.js"></script>

<body>
    <header>
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <!-- Slide One - Set the background image for this slide in the line below -->
                <div class="carousel-item active" style="background-image: url(../images/sl01.JPG)">
                    <h1 class="mb59">Веб Атлас: <br> &quot;Озера Казахстана&quot;!</h1>
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Озеро Улкен Шабакты</h3>
                        <p>Озеро Улькен Шабакты самое крупное из всех озер ЩБСО по площади и глубине.</p>
                    </div>
                </div>
                <!-- Slide Two - Set the background image for this slide in the line below -->
                <div class="carousel-item" style="background-image: url(../images/sl04.JPG)">
                    <h1 class="mb59">Веб Атлас: <br> &quot;Озера Казахстана&quot;!</h1>
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Озеро Жасыбай</h3>
                        <p>Озеро Жасыбай расположено в естественной котловине между горными грядами с вершинами Акбет (1022 м) с северо-востока и Оголек (958 м) с юго-запада.</p>
                    </div>
                </div>
                <!-- Slide Three - Set the background image for this slide in the line below -->
                <div class="carousel-item" style="background-image: url(../images/sl06.JPG)">
                    <h1 class="mb59">Веб Атлас: <br> &quot;Озера Казахстана&quot;!</h1>
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Озеро Индер</h3>
                        <p>Располагается в северной части Прикаспийской низменности, в 10 км к востоку от реки Урал, в 5 км от южной границы Западно-Казахстанской области. </p>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </header>
    <!-- Icons Grid -->
    <section class="features-icons bg-light text-center">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
                        <a class="btn btn-outline-light" asp-controller="Lakes" asp-action="Map">
                            <div class="features-icons-icon d-flex">
                                <i class="icon-magnifier m-auto text-primary"></i>
                            </div>
                        </a>
                        <h3>Расширенный Поиск озер</h3>
                        <p class="lead mb-0">Переход на страницу, где Вы можете найти любое озеро не только по названию, но и по его административному (область, район) или водохозяйственному расположению (водохозяйственный бассейн, водохозяйственный участок).</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="features-icons-item mx-auto mb-0 mb-lg-3">
                        <a class="btn btn-outline-light" asp-controller="Lakes" asp-action="Analytics">
                            <div class="features-icons-icon d-flex">
                                <i class="icon-settings m-auto text-primary"></i>
                            </div>
                        </a>
                        <h3>Аналитика</h3>
                        <p class="lead mb-0">Переход на страницу, где Вы можете найти озера, соответствующие заданным параметрам (морфометрическим, гидрологическим, гидрохимическим и другим параметрам). Доступна только для зарегистрированных пользователей.</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
                        <a class="btn btn-outline-light" asp-controller="Layers" asp-action="Index">
                            <div class="features-icons-icon d-flex">
                                <i class="icon-layers m-auto text-primary"></i>
                            </div>
                        </a>
                        <h3>Слои карт</h3>
                        <p class="lead mb-0">Переход на страницу, где опубликован перечень растровых и векторных слоев, которые Вы можете отдельно просмотреть в  картографическом вьювере. <br /> <span class=" text-muted">Страница в разработке</span>.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Call to Action -->
    <section class="call-to-action text-white text-center">
        <div class="overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-xl-9 mx-auto">
                    <h2 class="mb-4">@SharedLocalizer["SearchByLakeName"]</h2>
                </div>
                <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
                    <form>
                        <div class="form-row" id="LakeIdDiv">
                            <div class="col-12 col-md-9 mb-2 mb-md-0">
                                <input id="LakeId" class="form-control form-control-lg" placeholder="Введите название озера..." onclick="GoToLake()">
                            </div>
                            <div class="col-12 col-md-3">
                                <button id="btnSearch" type="button" class="btn btn-block btn-lg btn-primary" onclick="GoToLake()">@SharedLocalizer["Search"]</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- Greeting -->
    <section class="greeting text-center bg-light">
        <img class="mb-0" src="~/images/ELake v02.png" alt="" height="150">
        <h2>Добро пожаловать в веб атлас &quot;Озера Казахстана&quot;!</h2>
        <p class="lead ml-5 mr-5 text-justify" style="text-indent: 2.5em;">
            Веб-приложение «Атлас озер Казахстана» (“E-Lake”) разработано Институтом географии Республики Казахстан в 2018 году. Информация Атласа представлена  в виде интерактивных слоев карт, таблиц и графиков. 
            На данный момент Атлас озер содержит информацию о местоположении и общих характеристиках 2328 озерах Казахстана площадью более 1 <sup>2</sup>.
        </p>
        <p class="lead ml-5 mr-5 text-justify" style="text-indent: 2.5em;">
            Интернет-ресурс по озерам Казахстана предназначен для лиц, принимающих решения в области управления водными ресурсами, для научного и образовательного сообщества и для 
            всех желающих узнать больше об озерах.
        </p>
    </section>
    <!-- Image Showcases -->
    <section class="showcase pb-5">
        <div class="container-fluid p-0">
            <div class="row no-gutters">
                <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url(../images/sl07.JPG);"></div>
                <div class="col-lg-6 order-lg-1 my-auto showcase-text">
                    <h2>Данные веб-атласа &quot;Озера Казахстана&quot;</h2>
                    <p class="lead text-justify mb-0" style="text-indent: 2.5em;">Атлас озер Казахстана представляет следующие данные: морфометрические характеристики озер, полученные по данным ДЗЗ, 
                    архивные данные и данные глобальной базы озер, а также гидрологические показатели (элементы водного баланса) и гидрохимические показатели 
                    (общая гидрохимия, ионно-солевой состав, токсикология) отдельных озер, площадью более 10 км<sup>2</sup>.
                    </p>
                </div>
            </div>
            <div class="row no-gutters">
                <div class="col-lg-6 text-white showcase-img" style="background-image: url(../images/sl08.JPG);"></div>
                <div class="col-lg-6 my-auto showcase-text">
                    <h2>Функционал веб-атласа  &quot;Озера Казахстана&quot;</h2>
                    <p class="lead text-justify mb-0" style="text-indent: 2.5em;">
                        Функционал атласа озер Казахстана позволяет найти озера по административному и водохозяйственному расположению, просмотреть динамику значений показателей отдельных озер, 
                        а конструктор аналитического запроса позволит определить озера, соответствующие заданным параметрам, для определения состояния и перспектив использования озер Казахстан.
                    </p>
                </div>
            </div>
            <div class="row no-gutters">
                <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url(../images/sl09.JPG);"></div>
                <div class="col-lg-6 order-lg-1 my-auto showcase-text">
                    <h2>Ограничения использования данных &quot;Озера Казахстана&quot;</h2>
                    <p class="lead text-justify mb-0" style="text-indent: 2.5em;">
                        Отдельные данные атласа озер Казахстана (данные, не имеющие ссылок на источник данных), созданы Институтом географии Республики Казахстан и предоставляются на бесплатной основе
                        с требованием соблюдения авторских прав и обязательностью указания ссылки на данный веб-ресурс <a href="http://elake.geoset.kz">(http://elake.geoset.kz)</a>.
                    </p>
                </div>
            </div>
        </div>
    </section>
</body>

<script>
    $("#LakeId").keypress(function (event) {
        if (event.which == 13) {
            $("#btnSearch").click();
            return false;
        }
    });
</script>

<script>
    function GoToLake() {
        alert($('#LakeId').val());
        $.ajax({
            url: '@Url.Action("GetLakeId")',
            data: {
                LakeName: $('#LakeId').val()
            },
            type: 'POST',
            success: function (data) {
                if (data.lakeId != null) {
                    window.location.href = '/Lakes/Map/' + data.lakeId.toString();
                }
            },
            error: function () {
            }
        });
    }
</script>
<script>
    $.ajax({
        url: '@Url.Action("SearchLakes")',
        type: 'POST',
        success: function (data) {
            $("#LakeId").autocomplete({
                source: data.lakes
            });
        },
        error: function () {
        }
    });
</script>