@*@ViewBag.LakesLayer ELake.ViewBag.LakesLayers.Lake*@
@using ELake.Controllers
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<SharedResources> SharedLocalizer
@{
    ViewData["Title"] = SharedLocalizer["Lakes"];
    Layout = "~/Views/Shared/_LayoutMap.cshtml";
}
<script src="~/lib/jquery/dist/jquery.js"></script>
<link href="~/lib/ol/ol.css" rel="stylesheet" />
<script src="~/lib/ol/ol.js"></script>
<script src="~/lib/chart.js/Chart.js"></script>
<script src="~/lib/gasparesganga-jquery-loading-overlay/src/loadingoverlay.js"></script>

@*<input type="button" name="Text" value="VTest" onclick="Test()" />*@
@*<input type="text" id="Test" />*@
<head>
    <!-- theme stylesheet-->
    <link href="~/lib/distribution/css/style.green.css" rel="stylesheet" id="theme-stylesheet" />
    <!-- Custom stylesheet - for your changes-->
    <link href="~/lib/distribution/css/custom.css" rel="stylesheet" />
</head>
<div class="page">
    <div class="page-content d-flex align-items-stretch">
        <!-- Side Navbar -->
        <nav class="side-navbar">
            <!-- Statistics Header-->
            <div class="sidebar-header d-flex align-items-center p-0">
                <div class="statistic d-flex align-items-center">
                    <div class="icon bg-orange"><i class="fa  fa-paper-plane-o"></i></div>
                    <div class="title">
                        <h1 class="h3" id="foundLakes"></h1>
                        <p>@SharedLocalizer["Found"]</p>
                    </div>
                </div>
            </div>
            <!-- Sidebar Navidation Menus-->
            <ul class="list-unstyled pt-0">
                <li><span class="heading">@SharedLocalizer["Lakes"]</span></li>
                <li>
                    <div class="col-sm-auto p-2">
                        <div class="input-group">
                            <select id="LakeId" class="form-control" size="5" onchange="GetLakeGroup(); SelectLakeZoom($('#LakeId').val().toString(), true)"></select>
                            <label for="LakeGroup" class="sr-only">Group</label>
                            <select id="LakeGroup" class="form-control" size="5" onchange="SelectLakeZoom($('#LakeGroup').val().toString(), true)"></select>
                        </div>
                    </div>
                </li>
                <li><span class="heading">@SharedLocalizer["SearchWithilters"]</span></li>
                <li>
                    <a href="#filtertab1" aria-expanded="false" data-toggle="collapse" name="filtertabs" value="filterKATO" onchange="SearchChange(0);"> <i class="icon-grid"></i>@SharedLocalizer["FilterKATO"]</a>
                    <ul id="filtertab1" class="collapse">
                        <li>
                            <div class="col-sm-auto m-1">
                                <div class="input-group">
                                    <select id="adm1" class="form-control form-control-sm" placeholder="Область" asp-items="ViewBag.Adm1" onchange="GetAdm2(); SearchChange(0);">
                                        <option selected>@SharedLocalizer["Region"]...</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <select id="adm2" class="form-control form-control-sm mt-2" onchange="SearchChange(0);" placeholder="Район">
                                        <option selected>@SharedLocalizer["District"]...</option>
                                    </select>
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#filtertab2" aria-expanded="false" data-toggle="collapse" name="filtertabs" value="filterVHBVHU" onchange="SearchChange(0);"> <i class="fa fa-th-list"></i>@SharedLocalizer["FilterVHBVHU"]</a>
                    <ul id="filtertab2" class="collapse list-unstyled ">
                        <li>
                            <div class="col-sm-auto m-1">
                                <div class="input-group">
                                    <select id="svhb" class="form-control form-control-sm" asp-items="ViewBag.VHB" onchange="GetVHU(); SearchChange(0);">
                                        <option selected>ВХБ...</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <select id="svhu" class="form-control form-control-sm mt-2" onchange="SearchChange(0);">
                                        <option selected>ВХУ...</option>
                                    </select>
                                </div>
                            </div>

                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#filtertab3" aria-expanded="false" data-toggle="collapse" name="filtertabs" value="filterSystem" onchange="SearchChange(0);"><i class="icon-list"></i>@SharedLocalizer["LakeSystem"]</a>
                    <ul id="filtertab3" class="collapse list-unstyled ">
                        <li>
                            <div class="col-sm-auto m-1">
                                <div class="input-group">
                                    <select id="ssystem" class="form-control form-control-sm" asp-items="ViewBag.System" onchange="SearchChange(0);">
                                        <option selected>Система...</option>
                                    </select>
                                </div>
                            </div>

                        </li>
                    </ul>
                </li>
                <li><span class="heading">@SharedLocalizer["Extras"]</span></li>
                <li>
                    <a href="#Directories" aria-expanded="false" data-toggle="collapse"> <i class="icon-info"></i>@SharedLocalizer["Directories"]</a>
                    <ul id="Directories" class="collapse list-unstyled ">
                        <li>
                            <a asp-controller="Lakes" asp-action="Index">@SharedLocalizer["Lakes"]</a>
                            <a asp-controller="FishKinds" asp-action="Index">@SharedLocalizer["FishKinds"]</a>
                            <a asp-controller="DocumentTypes" asp-action="Index">@SharedLocalizer["DocumentTypes"]</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#Tables" aria-expanded="false" data-toggle="collapse"> <i class="icon-docs"></i>@SharedLocalizer["Tables"]</a>
                    <ul id="Tables" class="collapse list-unstyled ">
                        <li>
                            <a asp-controller="WaterBalances" asp-action="Index">@SharedLocalizer["Hydrology"]</a>
                            <a asp-controller="GeneralHydrochemicalIndicators" asp-action="Index">@SharedLocalizer["Hydrochemistries"]</a>
                            <a asp-controller="GeneralHydrobiologicalIndicators" asp-action="Index">@SharedLocalizer["Hydrobiology"]</a>
                            <a asp-controller="Transitions" asp-action="Index">@SharedLocalizer["DynamicsLakeAreas"]</a>
                        </li>
                    </ul>
                </li>

            </ul>
            <span class="heading">@SharedLocalizer["Extras"]</span>
            <ul class="list-unstyled">
                <li> <a asp-controller="Home" asp-action="Index"><i class="fa fa-home"></i>@SharedLocalizer["Home"]</a></li>
                <li> <a asp-controller="Home" asp-action="About"><i class="icon-note"></i>@SharedLocalizer["About"]</a></li>
                <li> <a asp-controller="Home" asp-action="Information"><i class="icon-directions"></i>@SharedLocalizer["Information"]</a></li>
                <li> <a asp-controller="Home" asp-action="Contact"><i class="icon-call-out"></i>@SharedLocalizer["Contact"]</a></li>
            </ul>
        </nav>
        <div class="content-inner">
            <!-- Breadcrumb-->
            <div class="breadcrumb-holder container-fluid">
                <ul class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#content1">@SharedLocalizer["BasicInfoLake"]</a></li>
                    <li class="breadcrumb-item active" id="BreadcrumbBILName"> </li>
                </ul>
            </div>
            <!-- Page Header-->
            <!-- Map Section-->
            <section class="mapsection p-3">
                <div class="container-fluid p-0">
                    <div class="row">
                        <!-- Maps-->
                        <div class="col-lg-8">                            
                            <div class="card">
                                <div class="card-close">
                                    <div class="close">
                                        <button type="button" id="closeCard1" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle"><a href="#" class="remove"> <i class="fa fa-times"></i></a></button>
                                    </div>
                                </div>
                                <div class="card-body p-0">
                                    <div class="embed-responsive-item" id="map"></div>
                                </div>
                            </div>
                        </div>
                        <!-- Legend-->
                        <div class="col-lg-4 pl-0">
                            <div class="card no-margin-bottom">
                                <div class="card-close">
                                    <div class="dropdown">
                                        <button type="button" id="closeCard1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle"><i class="fa fa-ellipsis-v"></i></button>
                                        <div aria-labelledby="closeCard1" class="dropdown-menu dropdown-menu-right has-shadow bg-light"><a href="#" class="dropdown-item remove"> <i class="fa fa-times"></i>Скрыть</a></div>
                                    </div>
                                </div>
                                <div class="card-header d-flex align-items-center text-white bg-success ">
                                    <h3 class="h4">@SharedLocalizer["Legend"]</h3>
                                </div>
                                <div class="card-body no-padding">
                                    <form class="m-2">
                                        <div class="form-group">
                                            <label>@SharedLocalizer["Lakes"]</label>
                                            <input id="layerLakesShow" type="checkbox" checked="checked" onchange="ChangeLayers()" />
                                            <input id="layerLakesOpacity" class="range" type="range" min="0" max="100" value="80" style="width: 100%;" oninput="ChangeLayers()" />
                                        </div>
                                        <div class="form-group">
                                            <label class="text-body">@SharedLocalizer["BaseLayer"]</label>
                                            <input id="layerBaseShow" type="checkbox" checked="checked" onchange="ChangeLayers()" />
                                            <select id="layerBaseType" class="form-control form-control-sm" onchange="ChangeLayers()">
                                                <option value="OSM">OpenStreetMap</option>
                                                <option value="BingAerialWithLabels">Bing Aerial</option>
                                            </select>
                                            <input id="layerBaseOpacity" class="range" type="range" min="0" max="100" value="100" style="width: 100%;" oninput="ChangeLayers()" />
                                        </div>
                                        <div class="form-group mb-0">
                                            <label>@SharedLocalizer["GlobalSurfaceWater"]</label>
                                            <input id="layerGlobalSurfaceWaterShow" type="checkbox" checked="checked" onchange="ChangeLayers()" /><i href="#" class="material-icons btn-sm" data-toggle="modal" data-target="#Legend" style="cursor: pointer;">info_outline</i>
                                            <select id="layerGlobalSurfaceWaterType" class="form-control form-control-sm" onchange="ChangeLayers()">
                                                <option value="OccurrenceChangeIntensity">@SharedLocalizer["OccurrenceChangeIntensity"]</option>
                                                <option value="Seasonality">@SharedLocalizer["Seasonality"]</option>
                                                <option value="Occurrence">@SharedLocalizer["Occurrence"]</option>
                                                <option value="Recurrence">@SharedLocalizer["Recurrence"]</option>
                                                <option value="MaximumWaterExtent">@SharedLocalizer["MaximumWaterExtent"]</option>
                                                <option value="Transitions">@SharedLocalizer["Transitions"]</option>
                                            </select>
                                            <input id="layerGlobalSurfaceWaterOpacity" type="range" min="0" max="100" value="80" style="width: 100%;" oninput="ChangeLayers()" />
                                        </div>
                                        <!-- Modal -->
                                        <div class="modal fade" id="Legend"  role="dialog" aria-labelledby="Legend" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header p-1">
                                                        <h3 class="h4 ml-3">@SharedLocalizer["GlobalSurfaceWater"]</h3>
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="container-fluid">
                                                            <div class="legend-activities">
                                                                <h5>«The Water Occurrence»</h5>
                                                                <img src="~/images/legends/OccurrenceRU.svg" class="img-fluid float-left" alt="Responsive image">
                                                                <p class="text-justify">
                                                                    (Повторяемость воды) показывает распространение водной поверхности и содержит информацию о динамике общей воды между 1984 и 2015
                                                                    годами (в %). Occurrence &ndash; это измерение частоты присутствия воды. Постоянные водные поверхности &ndash; это 100 % появления
                                                                    воды за 32 года представлены синим цветом, а области, где иногда возникает вода, показаны от розового до фиолетового
                                                                    (0% &lt;встречаемость &lt;100%). Более бледные оттенки - это области, где вода встречается реже
                                                                </p>
                                                                <h5>«The Water Seasonality»</h5>
                                                                <img src="~/images/legends/SeasonalityRU.svg" class="img-fluid float-left" alt="Responsive image">
                                                                <p class="text-justify">
                                                                    <em>(Присутствие воды в месяцах)</em> показывает информацию о внутригодовом поведении водных поверхностей номинально в год.
                                                                    Постоянная вода показано темно-синем цветом, а участки сезонной воды показаны светло-голубым.
                                                                </p>
                                                                <h5>«The Maximum Water Extent»</h5>
                                                                <img src="~/images/legends/MaximumWaterRU.svg" class="img-fluid float-left" alt="Responsive image">
                                                                <p class="text-justify">
                                                                    <em>(Максимальная площадь воды)</em> ппоказывает максимальное распространение обнаруженной воды за период 1984-2015 гг.
                                                                </p>
                                                                <h5>«The Water Transitions»</h5>
                                                                <img src="~/images/legends/TransitionsRU.svg" class="img-fluid float-left" alt="Responsive image"><br>
                                                                <p class="text-justify">
                                                                    <br>
                                                                    <em>(Изменение состояния воды)</em> показывает изменение состояния воды с начала года наблюдений и последнего года наблюдений. 
                                                                </p>
                                                                <h5 class="text-left">«The Water Occurrence Change»</h5>
                                                                <img src="~/images/legends/OccurrenceChangeRU.svg" class="img-fluid float-left" alt="Responsive image"><br>
                                                                <p class="text-justify">
                                                                    <em>(Интенсивность изменения воды)</em>  показывает, где уровень поверхностных вод увеличивался, уменьшался или оставался
                                                                    неизменным между 1984 и 2015 годами. Увеличение уровня воды показано зеленым, а уменьшение - красным. Черные области -
                                                                    это те районы, где в период 1984-2015 гг. существенных изменений не произошло. Интенсивность цвета отражает степень изменения (в %).
                                                                </p>
                                                                <h5>«The Annual Water Recurrence»</h5>
                                                                <img src="~/images/legends/RecurrenceRU.svg" class="img-fluid float-left" alt="Responsive image">
                                                                <p class="text-justify">
                                                                    <em>(Возвращение воды)</em>  показывает межгодовую изменчивость доступности воды, т.е. как часто вода возвращается из года в год (в %).
                                                                    Повторение воды на 100% означает, что вода присутствует каждый год с начала года наблюдений за водой. Напротив, низкие проценты характеризуют не постоянность
                                                                    <blockquote class="blockquote text-justify m-0">
                                                                        <small>
                                                                            <footer class="blockquote-footer ml-1">
                                                                                Все данные находятся здесь в рамках программы Copernicus и предоставляются бесплатно,
                                                                                без ограничений использования. Для получения полной информации о лицензии <a href="https://www.copernicus.eu/main/data-access/">см. Регламент Коперника</a>
                                                                            </footer>
                                                                        </small>
                                                                    </blockquote>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer p-1">
                                                        <button type="button" class="btn btn-primary btn-sm mr-3" data-dismiss="modal">@SharedLocalizer["Close"]</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- List Section-->
            <header class="page-header pt-0">
                <div class="container-fluid" id="maindiv">
                    <div class='mtabs ml-1'>
                        <input id="tab1" type="radio" name="tabs" href="#content1" checked>
                        <label for="tab1">Сведение об озере</label>
                        <input id="tab2" type="radio" name="tabs">
                        <label for="tab2">@SharedLocalizer["Hydrology"]</label>
                        <input id="tab3" type="radio" name="tabs">
                        <label for="tab3">@SharedLocalizer["Hydrochemistries"]</label>
                        <input id="tab4" type="radio" name="tabs">
                        <label for="tab4">@SharedLocalizer["Hydrobiology"]</label>
                        <input id="tab5" type="radio" name="tabs">
                        <label for="tab5">@SharedLocalizer["DynamicsLakeAreas"]</label>
                        <section id="content1" data-spy="scroll" data-target="#mtabs" data-offset="0" class="scrollspy-example">
                            <div class="container-fluid  p-0">
                                <div class="row">
                                    <!--/.Основная информация об озере-->
                                    <div class="col-md-4">
                                        <div class="card no-margin-bottom">
                                            <div class="card-close">
                                                <div class="dropdown">
                                                    <button type="button" id="closeCard1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle"><i class="fa fa-ellipsis-v"></i></button>
                                                    <div aria-labelledby="closeCard1" class="dropdown-menu dropdown-menu-right has-shadow bg-light"><a href="#" class="dropdown-item remove"> <i class="fa fa-times"></i>Скрыть</a></div>
                                                </div>
                                            </div>
                                            <div class="card-header bg-transparent border-success ">
                                                <h3 class="h4">@SharedLocalizer["BasicInfoLake"]</h3>
                                            </div>
                                            <div class="card-body no-padding">
                                                <div class="table-responsive">
                                                    <table class="table table-sm">
                                                        <tbody>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["Name"]</th>
                                                                <td id="BILName"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["LakeId"]</th>
                                                                <td id="LakeIdInfo"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["Adm1"]</th>
                                                                <td id="BILAdm1"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["Adm2"]</th>
                                                                <td id="BILAdm2"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["VHB"]</th>
                                                                <td id="BILVHB"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["VHU"]</th>
                                                                <td id="BILVHU"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["Area2015"]</th>
                                                                <td id="BILArea2015"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["LakeShorelineLength2015"]</th>
                                                                <td id="BILLakeShorelineLength2015"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["Longitude"]</th>
                                                                <td id="BILLongitude"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="pl-2" scope="row">@SharedLocalizer["Latitude"]</th>
                                                                <td id="BILLatitude"></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <!--/.Архивные данные об озере-->
                                    <div class="col-md-4">
                                        <div class="card no-margin-bottom">
                                            <div class="card-close">
                                                <div class="dropdown">
                                                    <button type="button" id="closeCard3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle"><i class="fa fa-ellipsis-v"></i></button>
                                                    <div aria-labelledby="closeCard3" class="dropdown-menu dropdown-menu-right has-shadow bg-light"><a href="#" class="dropdown-item remove"> <i class="fa fa-times"></i>Скрыть</a></div>
                                                </div>
                                            </div>
                                            <div class="card-header bg-transparent border-success">
                                                <h3 class="h4">@SharedLocalizer["LakeArchiveData"]</h3>
                                            </div>
                                            <div class="card-body no-padding">
                                                <div class="table-responsive">
                                                    <table class="table table-hover table-sm">
                                                        <thead class="thead-light">
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <th class="align-middle" scope="row"> @SharedLocalizer["SurveyYear"]</th>
                                                                <td id="SurveyYear"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row"> @SharedLocalizer["LakeLength"]</th>
                                                                <td id="LakeLength"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle " scope="row">@SharedLocalizer["LakeShorelineLength"]</th>
                                                                <td id="LakeShorelineLength"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["LakeMirrorArea"]</th>
                                                                <td id="LakeMirrorArea"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["LakeAbsoluteHeight"]</th>
                                                                <td id="LakeAbsoluteHeight"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["LakeWidth"]</th>
                                                                <td id="LakeWidth"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["LakeMaxDepth"]</th>
                                                                <td id="LakeMaxDepth"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["LakeWaterMass"]</th>
                                                                <td id="LakeWaterMass"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" style="min-width:300px;" scope="row">@SharedLocalizer["ArchivalInfoSource"]</th>
                                                                <td id="ArchivalInfoSource"></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/.Глобальные данные об озере-->
                                    <div class="col-md-4">
                                        <div class="card no-margin-bottom">
                                            <div class="card-close">
                                                <div class="dropdown">
                                                    <button type="button" id="closeCard4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle"><i class="fa fa-ellipsis-v"></i></button>
                                                    <div aria-labelledby="closeCard4" class="dropdown-menu dropdown-menu-right has-shadow bg-light"><a href="#" class="dropdown-item remove"> <i class="fa fa-times"></i>Скрыть</a></div>
                                                </div>
                                            </div>
                                            <div class="card-header bg-transparent border-success">
                                                <h3 class="h4">@SharedLocalizer["LakeGlobalData"]</h3>
                                            </div>
                                            <div class="card-body no-padding">
                                                <div class="table-responsive">
                                                    <table class="table table-hover table-sm">
                                                        <thead class="thead-light">
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <th class="align-middle" scope="row"> @SharedLocalizer["Hylak_id"]</th>
                                                                <td id="Hylak_id"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row"> @SharedLocalizer["Lake_area"]</th>
                                                                <td id="Lake_area"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle " scope="row">@SharedLocalizer["Shore_len"]</th>
                                                                <td id="Shore_len"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Shore_dev"]</th>
                                                                <td id="Shore_dev"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Vol_total"]</th>
                                                                <td id="Vol_total"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Depth_avg"]</th>
                                                                <td id="Depth_avg"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Dis_avg"]</th>
                                                                <td id="Dis_avg"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Res_time"]</th>
                                                                <td id="Res_time"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Elevation"]</th>
                                                                <td id="Elevation"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Slope_100"]</th>
                                                                <td id="Slope_100"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Wshd_area"]</th>
                                                                <td id="Wshd_area"></td>
                                                            </tr>
                                                            <tr>
                                                                <th class="align-middle" scope="row">@SharedLocalizer["Source"]</th>
                                                                <td id="Source" class="link"> http://www.hydrosheds.org/page/hydrolakes</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        @await Html.PartialAsync("_MapHtmlHydrology")
                        @await Html.PartialAsync("_MapHtmlHydrochemistries")
                        <section id="content4"></section>
                        @await Html.PartialAsync("_MapHtmlDynamicsLakeAreas")
                    </div>
                </div>
            </header>
            <!-- Page Footer-->
            <footer class="main-footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6">
                            <p>ELake &copy; 2018</p>
                        </div>
                        <div class="col-sm-6 text-right">
                            <!-- Please do not remove the backlink to us unless you support further theme's development at https://bootstrapious.com/donate. It is part of the license conditions. Thank you for understanding :)-->
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
</div>
<!--/.container-->
@* hidden *@
<div hidden="hidden">
    <input id="Year" type="hidden" value='@SharedLocalizer["Year"]' />
    <input id="WaterLevelWaterLavelM" type="hidden" value='@SharedLocalizer["WaterLavelM"]' />
    <input id="Value" type="hidden" value='@SharedLocalizer["Value"]' />
    <input id="LakeName" type="hidden" value='@ViewBag.LakeName' />
    <input id="ViewBagLakeId" type="hidden" value='@ViewBag.LakeId' />
    <input id="Found" type="hidden" value='@SharedLocalizer["Found"]' />
    <input id="WaterBalance" type="hidden" value='@SharedLocalizer["WaterBalance"]' />
    <input id="WaterLevel" type="hidden" value='@SharedLocalizer["WaterLevel"]' />
    <input id="WaterLavelM" type="hidden" value='@SharedLocalizer["WaterLavelM"]' />
    <input id="WaterLavelMy" type="hidden" value='@SharedLocalizer["WaterLavelMy"]' />
    <input id="BathigraphicAndVolumetricCurveData" type="hidden" value='@SharedLocalizer["BathigraphicAndVolumetricCurveData"]' />
    <input id="LakeArea" type="hidden" value='@SharedLocalizer["LakeArea"]' />
    <input id="WaterMassVolume" type="hidden" value='@SharedLocalizer["WaterMassVolume"]' />
    <input id="WaterMassVolumeX" type="hidden" value='@SharedLocalizer["WaterMassVolumeX"]' />
    <input id="HiddenSurfaceFlow" type="hidden" value='@SharedLocalizer["SurfaceFlow"]' />
    <input id="HiddenPrecipitation" type="hidden" value='@SharedLocalizer["Precipitation"]' />
    <input id="HiddenUndergroundFlow" type="hidden" value='@SharedLocalizer["UndergroundFlow"]' />
    <input id="HiddenSurfaceOutflow" type="hidden" value='@SharedLocalizer["SurfaceOutflow"]' />
    <input id="HiddenEvaporation" type="hidden" value='@SharedLocalizer["Evaporation"]' />
    <input id="HiddenUndergroundOutflow" type="hidden" value='@SharedLocalizer["UndergroundOutflow"]' />
    <input id="Mineralization" type="hidden" value='@SharedLocalizer["Mineralization"]' />
    <input id="MineralizationType" type="hidden" value='@SharedLocalizer["MineralizationType"]' />
    <input id="TotalHardness" type="hidden" value='@SharedLocalizer["TotalHardness"]' />
    <input id="WaterHardness" type="hidden" value='@SharedLocalizer["WaterHardness"]' />
    <input id="DissOxygWater" type="hidden" value='@SharedLocalizer["DissOxygWater"]' />
    <input id="DissolvedOxygenInWaterDegree" type="hidden" value='@SharedLocalizer["DissolvedOxygenInWaterDegree"]' />
    <input id="PercentOxygWater" type="hidden" value='@SharedLocalizer["PercentOxygWater"]' />
    <input id="pH" type="hidden" value='@SharedLocalizer["pH"]' />
    <input id="AcidityOfWaterDegree" type="hidden" value='@SharedLocalizer["AcidityOfWaterDegree"]' />
    <input id="OrganicSubstances" type="hidden" value='@SharedLocalizer["OrganicSubstances"]' />
    <input id="NH4" type="hidden" value='@SharedLocalizer["NH4"]' />
    <input id="NO2" type="hidden" value='@SharedLocalizer["NO2"]' />
    <input id="NO3" type="hidden" value='@SharedLocalizer["NO3"]' />
    <input id="PPO4" type="hidden" value='@SharedLocalizer["PPO4"]' />
    <input id="Cu" type="hidden" value='@SharedLocalizer["Cu"]' />
    <input id="Zn" type="hidden" value='@SharedLocalizer["Zn"]' />
    <input id="Mn" type="hidden" value='@SharedLocalizer["Mn"]' />
    <input id="Pb" type="hidden" value='@SharedLocalizer["Pb"]' />
    <input id="Ni" type="hidden" value='@SharedLocalizer["Ni"]' />
    <input id="Cd" type="hidden" value='@SharedLocalizer["Cd"]' />
    <input id="Co" type="hidden" value='@SharedLocalizer["Co"]' />
    <input id="KIZV" type="hidden" value='@SharedLocalizer["KIZV"]' />
    <input id="ChangeWaterCondition" type="hidden" value='@SharedLocalizer["ChangeWaterCondition"]' />
    <input id="Permanent" type="hidden" value='@SharedLocalizer["Permanent"]' />
    <input id="NewPermanent" type="hidden" value='@SharedLocalizer["NewPermanent"]' />
    <input id="SeasonalToPermanent" type="hidden" value='@SharedLocalizer["SeasonalToPermanent"]' />
    <input id="Seasonal" type="hidden" value='@SharedLocalizer["Seasonal"]' />
    <input id="NewSeasonal" type="hidden" value='@SharedLocalizer["NewSeasonal"]' />
    <input id="PermanentToDeasonal" type="hidden" value='@SharedLocalizer["PermanentToDeasonal"]' />
    <input id="LostPermanent" type="hidden" value='@SharedLocalizer["LostPermanent"]' />
    <input id="LostSeasonal" type="hidden" value='@SharedLocalizer["LostSeasonal"]' />
    <input id="EphemeralSeasonal" type="hidden" value='@SharedLocalizer["EphemeralSeasonal"]' />
    <input id="WaterMonthsPresence" type="hidden" value='@SharedLocalizer["WaterMonthsPresence"]' />
    <input id="PermanentAndSeasonalDynamics" type="hidden" value='@SharedLocalizer["PermanentAndSeasonalDynamics"]' />
    <input id="Areakm2" type="hidden" value='@SharedLocalizer["Areakm2"]' />
    <input id="SeasonalWaterArea" type="hidden" value='@SharedLocalizer["SeasonalWaterArea"]' />
    <input id="PermanentWaterArea" type="hidden" value='@SharedLocalizer["PermanentWaterArea"]' />
    <input id="MaximumWaterArea" type="hidden" value='@SharedLocalizer["MaximumWaterArea"]' />
    <input id="Seasonalit" type="hidden" value='@SharedLocalizer["Seasonalit"]' />
    <input id="Month" type="hidden" value='@SharedLocalizer["Month"]' />
    <input id="NoData" type="hidden" value='@SharedLocalizer["NoData"]' />
</div>

@* map and layers *@
<script type="text/javascript">
    var layers = [];
    var Source_OSM = new ol.source.OSM(),
        Source_BingAerialWithLabels = new ol.source.BingMaps({
        key: 'AmYNYRGlIrw_kppWvrIhfzY1v046b4Ft5nopz6Av94XDvTTo8xTkHCEaZ_zMwCOJ',
        imagerySet: 'AerialWithLabels',
    });
    layers.push(new ol.layer.Tile({
        //source: new ol.source.OSM()
        //source: new BingMaps({
        //    key: 'AmYNYRGlIrw_kppWvrIhfzY1v046b4Ft5nopz6Av94XDvTTo8xTkHCEaZ_zMwCOJ',
        //    imagerySet: styles[i]
        //    // use maxZoom 19 to see stretched tiles instead of the BingMaps
        //    // "no photos at this zoom level" tiles
        //    // maxZoom: 19
        //})
        source: Source_OSM
    }));
    layers[layers.length - 1].set('name', 'Base');

    var geoserverPort = '8080',
        geoserverAddress = window.location.hostname;
        //geoserverAddress = 'elake.geoset.kz';

    var Source_OccurrenceChangeIntensity = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:GlobalSurfaceWater',
            'STYLES': 'Occurrence change intensity',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Source_Seasonality = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:GlobalSurfaceWater',
            'STYLES': 'Seasonality',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Source_Occurrence = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:GlobalSurfaceWater',
            'STYLES': 'Occurrence',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Source_Recurrence = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:GlobalSurfaceWater',
            'STYLES': 'Recurrence',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Source_MaximumWaterExtent = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:GlobalSurfaceWater',
            'STYLES': 'Maximum water extent',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Source_Transitions = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:GlobalSurfaceWater',
            'STYLES': 'Transitions',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Layer_GlobalSurfaceWater = new ol.layer.Tile({
        source: Source_OccurrenceChangeIntensity
    });
    Layer_GlobalSurfaceWater.setOpacity(0.80);
    layers.push(Layer_GlobalSurfaceWater);
    layers[layers.length - 1].set('name', 'GlobalSurfaceWater');

    var Source_Lakes = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Layer_Lakes = new ol.layer.Tile({
        source: Source_Lakes
    });
    Layer_Lakes.setOpacity(0.80);
    layers.push(Layer_Lakes);
    layers[layers.length - 1].set('name', 'Lakes');

    var Source_Lake = new ol.source.Vector({});
    var Layer_Lake = new ol.layer.Vector({
        source: Source_Lake,
        style: new ol.style.Style({
            fill: new ol.style.Fill({
                color: [0, 0, 255, 0]
            }),
            stroke: new ol.style.Stroke({
                color: 'red',
                width: 2
            })
        })
    });
    layers.push(Layer_Lake);
    layers[layers.length - 1].set('name', 'LakesSelect');

    var geoserverPort = '8080',
        //geoserverAddress = '82.200.146.116';
        //geoserverAddress = 'localhost';
        geoserverAddress = window.location.hostname;

    var map = new ol.Map({
        target: 'map',
        layers: layers,
        view: new ol.View({
            center: ol.proj.fromLonLat([69, 48]),
            zoom: 4,
            minZoom: 4,
            //extent: [6000000, 4856683, 9000000, 7540509]
            extent: [5917358, 5150581, 9579862, 7210174]
            //extent: [5061645, 4856683, 9834201, 7540509]
        })
    });

    $("#map").LoadingOverlay("show");

    var Layer_Lakes_v = new ol.layer.Vector({});

    var url_Lakes = "http://" + geoserverAddress + ":" + geoserverPort + "/geoserver/ELake/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=ELake:Lakes&outputFormat=text/javascript&format_options=callback:getJson";
    //$('#TestText').val(url_Lakes);
    $.ajax({
        jsonp: false,
        jsonpCallback: 'getJson',
        type: 'GET',
        url: url_Lakes,
        async: false,
        dataType: 'jsonp',
        success: function (data_Lakes) {
            Layer_Lakes_v = new ol.layer.Vector({
                source: new ol.source.Vector({
                    features: (new ol.format.GeoJSON()).readFeatures(data_Lakes, {
                        featureProjection: 'EPSG:3857'
                    })
                })
            });
            @{
                string LakeId = ViewBag.LakeId?.ToString();
                if(string.IsNullOrEmpty(LakeId))
                {
                    LakeId = "0";
                }
            }
            $("#map").LoadingOverlay("hide");
            SelectLakeZoom(@LakeId, true);
        },
        error: function () {
            $("#map").LoadingOverlay("hide");
            //alert('error');
        }
    });

    function ChangeLayers() {
        map.getLayers().forEach(function (layer) {
            if (layer.get('name') == 'Base') {
                layer.setVisible($('#layerBaseShow').is(':checked'));
                layer.setOpacity($('#layerBaseOpacity').val() / 100);
                if ($('#layerBaseType').val() == 'OSM') {
                    layer.setSource(Source_OSM);
                }
                else if ($('#layerBaseType').val() == 'BingAerialWithLabels') {
                    layer.setSource(Source_BingAerialWithLabels);
                }
            }
            if (layer.get('name') == 'GlobalSurfaceWater') {
                layer.setVisible($('#layerGlobalSurfaceWaterShow').is(':checked'));
                layer.setOpacity($('#layerGlobalSurfaceWaterOpacity').val() / 100);
                if ($('#layerGlobalSurfaceWaterType').val() == 'OccurrenceChangeIntensity') {
                    layer.setSource(Source_OccurrenceChangeIntensity);
                }
                else if ($('#layerGlobalSurfaceWaterType').val() == 'Seasonality') {
                    layer.setSource(Source_Seasonality);
                }
                else if ($('#layerGlobalSurfaceWaterType').val() == 'Occurrence') {
                    layer.setSource(Source_Occurrence);
                }
                else if ($('#layerGlobalSurfaceWaterType').val() == 'Recurrence') {
                    layer.setSource(Source_Recurrence);
                }
                else if ($('#layerGlobalSurfaceWaterType').val() == 'MaximumWaterExtent') {
                    layer.setSource(Source_MaximumWaterExtent);
                }
                else if ($('#layerGlobalSurfaceWaterType').val() == 'Transitions') {
                    layer.setSource(Source_Transitions);
                }
            }
            if (layer.get('name') == 'Lakes') {
                layer.setVisible($('#layerLakesShow').is(':checked'));
                layer.setOpacity($('#layerLakesOpacity').val() / 100);
            }
        })
    }

    ChangeLayers();
</script>
@* Select lake and zoom to *@
<script>
    function SelectLakeZoom(lakeId_, zoom) {
        var lakeId = parseInt(lakeId_);
        GetLakeInfo(lakeId);
        features = Layer_Lakes_v.getSource().getFeatures();
        for (i = 0; i < features.length; i++) {
            if (features[i].get('id') === lakeId) {
                var polyFeature = new ol.Feature({
                    geometry: new ol.geom.MultiPolygon(features[i].getGeometry().getCoordinates())
                });
                Source_Lake.clear();
                Source_Lake.addFeature(features[i]);
                if (zoom) {
                    map.getView().fit(Layer_Lakes_v.getSource().getExtent(), { duration: 1500 });
                    setTimeout(ZoomToFeature, 1500, polyFeature);
                }
            }
        }
    }

    function ZoomToFeature(polyFeature) {
        var extent = polyFeature.getGeometry().getExtent();
        map.getView().fit(extent, {
            duration: 1500
        });
    }

    function GetLakeGroup() {
        var lakeId_ = $('#LakeId').val();
        if ((lakeId_ != null) && (lakeId_ != '') && (lakeId_[lakeId_.length - 1] != '0')) {
            $.ajax({
                url: '@Url.Action("GetLakeGroup")',
                data: {
                    LakeId: lakeId_
                },
                type: 'POST',
                success: function (data) {
                    var $dropdown = $("#LakeGroup");
                    if (data.lakes.length > 0) {
                        $dropdown.show();
                    }
                    else {
                        $dropdown.hide();
                    }
                    $dropdown.find('option')
                        .remove();
                    $.each(data.lakes, function () {
                        $dropdown.append($("<option />").val(this.lakeId).text(this.name));
                    });
                },
                error: function () {
                }
            });
        }
        else {
            $("#LakeGroup").hide();
        }
    }
</script>
@* Get lake info *@
<script>
    var chartColorWBSurfaceFlow = 'rgba(85,255,0,1)',
        chartColorWBPrecipitation = 'rgba(0,197,255,1)',
        chartColorWBUndergroundFlow = 'rgba(255,127,127,1)',
        chartColorWBSurfaceOutflow = 'rgba(255,255,0,1)',
        chartColorWBEvaporation = 'rgba(223,115,255,1)',
        chartColorWBUndergroundOutflow = 'rgba(0,255,197,1)',
        chartColorBAVCDLakeArea = 'rgba(91,155,213,1)',
        chartColorBAVCDWaterMassVolume = 'rgba(237,125,49,1)',
        chartColorGHIwaterLavelM = 'rgba(0,128,192,1)',
        chartColorGHIMineralization = 'rgba(255,99,132,1)',
        chartColorGHITotalHardness = 'rgba(99,255,132,1)',
        chartColorGHIDissOxygWater = 'rgba(36,85,200,1)',
        chartColorGHIPercentOxygWater = 'rgba(243,99,73,1)',
        chartColorGHIpH = 'rgba(67,149,250,1)',
        chartColorGHIOrganicSubstances = 'rgba(255,128,255,1)',
        chartColorTINH4 = 'rgba(255,99,132,1)',
        chartColorTINO2 = 'rgba(255,99,132,1)',
        chartColorTINO3 = 'rgba(255,99,132,1)',
        chartColorTIPPO4 = 'rgba(255,99,132,1)',
        chartColorTICu = 'rgba(255,99,132,1)',
        chartColorTIZn = 'rgba(255,99,132,1)',
        chartColorTIMn = 'rgba(255,99,132,1)',
        chartColorTIPb = 'rgba(255,99,132,1)',
        chartColorTINi = 'rgba(255,99,132,1)',
        chartColorTICd = 'rgba(255,99,132,1)',
        chartColorTICo = 'rgba(255,99,132,1)',
        chartColorTIKIZV = 'rgba(150,200,132,1)',
        chartColorSeasonalWaterArea = 'rgba(230,74,208,1)',
        chartColorPermanentWaterArea = 'rgba(0,112,192,1)',
        chartColorMaximumWaterArea = 'rgba(192,0,0,1)',
        chartColorTrPermanent = 'rgba(85,255,0,1)',
        chartColorTrNewPermanent = 'rgba(0,197,255,1)',
        chartColorTrSeasonalToPermanent = 'rgba(255,127,127,1)',
        chartColorTrSeasonal = 'rgba(255,255,0,1)',
        chartColorTrNewSeasonal = 'rgba(223,115,255,1)',
        chartColorTrPermanentToDeasonal = 'rgba(0,255,197,1)',
        chartColorTrLostPermanent = 'rgba(255,167,127,1)',
        chartColorTrLostSeasonal = 'rgba(115,178,255,1)',
        chartColorTrEphemeralSeasonal = 'rgba(255,190,232,1)',
        chartColorWaterMonthsPresence = 'rgba(0,0,255,1)';
    var twoparts = false;

    function GetLakeInfo(LakeId) {
        $.ajax({
            url: '@Url.Action("GetLakeInfo")',
            data: { LakeId: LakeId },
            type: 'POST',
            success: function (data) {
                // Основная информация об озере
                $('#BILLakeId').text();
                $('#BILName').text();
                $('#BreadcrumbBILName').text();
                $('#BILAdm1').text();
                $('#BILAdm2').text();
                $('#BILVHB').text();
                $('#BILVHU').text();
                $('#BILArea2015').text();
                $('#BILLakeShorelineLength2015').text();
                $('#BILLongitude').text();
                $('#BILLatitude').text();
                if (data.lake != null) {
                    //$('#BILLakeId').text(data.lake.lakeId);
                    //$('#BILName').text(data.lake.name);
                    //$('#BILAdm1').text(data.adm1);
                    //$('#BILAdm2').text(data.adm2);
                    //$('#BILVHB').text(data.lake.vhb);
                    //$('#BILVHU').text(data.lake.vhu);
                    //$('#BILArea2015').text(data.lake.area2015);
                    //$('#BILLakeShorelineLength2015').text(data.lake.lakeShorelineLength2015);
                    //$('#BILLongitude').text(data.lake.longitude);
                    //$('#BILLatitude').text(data.lake.latitude);

                    if (data.lake.lakeId != null) {
                        $('#BILLakeId').text(data.lake.lakeId);
                    } else {
                        $('#BILLakeId').text($('#NoData').val());
                    }
                    if (data.lake.name != null) {
                        $('#BILName').text(data.lake.name);
                        $('#BreadcrumbBILName').text(data.lake.name);
                    } else {
                        $('#BILName').text($('#NoData').val());
                        $('#BreadcrumbBILName').text($('#NoData').val());
                    }
                    if (data.adm1 != null) {
                        $('#BILAdm1').text(data.adm1);
                    } else {
                        $('#BILAdm1').text($('#NoData').val());
                    }
                    if (data.adm2 != null) {
                        $('#BILAdm2').text(data.adm2);
                    } else {
                        $('#BILAdm2').text($('#NoData').val());
                    }
                    if (data.lake.vhb != null) {
                        $('#BILVHB').text(data.lake.vhb);
                    } else {
                        $('#BILVHB').text($('#NoData').val());
                    }
                    if (data.lake.vhu != null) {
                        $('#BILVHU').text(data.lake.vhu);
                    } else {
                        $('#BILVHU').text($('#NoData').val());
                    }
                    if (data.lake.area2015 != null) {
                        $('#BILArea2015').text(data.lake.area2015);
                    } else {
                        $('#BILArea2015').text($('#NoData').val());
                    }
                    if (data.lake.lakeShorelineLength2015 != null) {
                        $('#BILLakeShorelineLength2015').text(data.lake.lakeShorelineLength2015);
                    } else {
                        $('#BILLakeShorelineLength2015').text($('#NoData').val());
                    }
                    if (data.lake.longitude != null) {
                        $('#BILLongitude').text(data.lake.longitude);
                    } else {
                        $('#BILLongitude').text($('#NoData').val());
                    }
                    if (data.lake.latitude != null) {
                        $('#BILLatitude').text(data.lake.latitude);
                    } else {
                        $('#BILLatitude').text($('#NoData').val());
                    }
                }
                // Глобальная база озер
                $('#Hylak_id').text();
                $('#Lake_area').text();
                $('#Shore_len').text();
                $('#Shore_dev').text();
                $('#Vol_total').text();
                $('#Depth_avg').text();
                $('#Dis_avg').text();
                $('#Res_time').text();
                $('#Elevation').text();
                $('#Slope_100').text();
                $('#Wshd_area').text();
                if (data.lakesGlobalData != null) {
                    //$('#Hylak_id').text(data.lakesGlobalData.hylak_id);
                    //$('#Lake_area').text(data.lakesGlobalData.lake_area);
                    //$('#Shore_len').text(data.lakesGlobalData.shore_len);
                    //$('#Shore_dev').text(data.lakesGlobalData.shore_dev);
                    //$('#Vol_total').text(data.lakesGlobalData.vol_total);
                    //$('#Depth_avg').text(data.lakesGlobalData.depth_avg);
                    //$('#Dis_avg').text(data.lakesGlobalData.dis_avg);
                    //$('#Res_time').text(data.lakesGlobalData.res_time);
                    //$('#Elevation').text(data.lakesGlobalData.elevation);
                    //$('#Slope_100').text(data.lakesGlobalData.slope_100);
                    //$('#Wshd_area').text(data.lakesGlobalData.wshd_area);

                    if (data.lakesGlobalData.hylak_id != null) {
                        $('#Hylak_id').text(data.lakesGlobalData.hylak_id);
                    } else {
                        $('#Hylak_id').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.lake_area != null) {
                        $('#Lake_area').text(data.lakesGlobalData.lake_area);
                    } else {
                        $('#Lake_area').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.shore_len != null) {
                        $('#Shore_len').text(data.lakesGlobalData.shore_len);
                    } else {
                        $('#Shore_len').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.shore_dev != null) {
                        $('#Shore_dev').text(data.lakesGlobalData.shore_dev);
                    } else {
                        $('#Shore_dev').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.vol_total != null) {
                        $('#Vol_total').text(data.lakesGlobalData.vol_total);
                    } else {
                        $('#Vol_total').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.depth_avg != null) {
                        $('#Depth_avg').text(data.lakesGlobalData.depth_avg);
                    } else {
                        $('#Depth_avg').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.dis_avg != null) {
                        $('#Dis_avg').text(data.lakesGlobalData.dis_avg);
                    } else {
                        $('#Dis_avg').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.res_time != null) {
                        $('#Res_time').text(data.lakesGlobalData.res_time);
                    } else {
                        $('#Res_time').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.elevation != null) {
                        $('#Elevation').text(data.lakesGlobalData.elevation);
                    } else {
                        $('#Elevation').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.slope_100 != null) {
                        $('#Slope_100').text(data.lakesGlobalData.slope_100);
                    } else {
                        $('#Slope_100').text($('#NoData').val());
                    }
                    if (data.lakesGlobalData.wshd_area != null) {
                        $('#Wshd_area').text(data.lakesGlobalData.wshd_area);
                    } else {
                        $('#Wshd_area').text($('#NoData').val());
                    }
                }
                // Архивные данные озер
                $('#SurveyYear').text();
                $('#LakeLength').text();
                $('#LakeShorelineLength').text();
                $('#LakeMirrorArea').text();
                $('#LakeAbsoluteHeight').text();
                $('#LakeWidth').text();
                $('#LakeMaxDepth').text();
                $('#LakeWaterMass').text();
                $('#ArchivalInfoSource').text();
                if (data.lakesArchiveData != null) {
                    //$('#SurveyYear').text(data.lakesArchiveData.surveyYear);
                    //$('#LakeLength').text(data.lakesArchiveData.lakeLength);
                    //$('#LakeShorelineLength').text(data.lakesArchiveData.lakeShorelineLength);
                    //$('#LakeMirrorArea').text(data.lakesArchiveData.lakeMirrorArea);
                    //$('#LakeAbsoluteHeight').text(data.lakesArchiveData.lakeAbsoluteHeight);
                    //$('#LakeWidth').text(data.lakesArchiveData.lakeWidth);
                    //$('#LakeMaxDepth').text(data.lakesArchiveData.lakeMaxDepth);
                    //$('#LakeWaterMass').text(data.lakesArchiveData.lakeWaterMass);
                    //$('#ArchivalInfoSource').text(data.lakesArchiveData.archivalInfoSource);

                    if (data.lakesArchiveData.surveyYear != null) {
                        $('#SurveyYear').text(data.lakesArchiveData.surveyYear);
                    } else {
                        $('#SurveyYear').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.lakeLength != null) {
                        $('#LakeLength').text(data.lakesArchiveData.lakeLength);
                    } else {
                        $('#LakeLength').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.lakeShorelineLength != null) {
                        $('#LakeShorelineLength').text(data.lakesArchiveData.lakeShorelineLength);
                    } else {
                        $('#LakeShorelineLength').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.lakeMirrorArea != null) {
                        $('#LakeMirrorArea').text(data.lakesArchiveData.lakeMirrorArea);
                    } else {
                        $('#LakeMirrorArea').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.lakeAbsoluteHeight != null) {
                        $('#LakeAbsoluteHeight').text(data.lakesArchiveData.lakeAbsoluteHeight);
                    } else {
                        $('#LakeAbsoluteHeight').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.lakeWidth != null) {
                        $('#LakeWidth').text(data.lakesArchiveData.lakeWidth);
                    } else {
                        $('#LakeWidth').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.lakeMaxDepth != null) {
                        $('#LakeMaxDepth').text(data.lakesArchiveData.lakeMaxDepth);
                    } else {
                        $('#LakeMaxDepth').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.lakeWaterMass != null) {
                        $('#LakeWaterMass').text(data.lakesArchiveData.lakeWaterMass);
                    } else {
                        $('#LakeWaterMass').text($('#NoData').val());
                    }
                    if (data.lakesArchiveData.archivalInfoSource != null) {
                        $('#ArchivalInfoSource').text(data.lakesArchiveData.archivalInfoSource);
                    } else {
                        $('#ArchivalInfoSource').text($('#NoData').val());
                    }
                }
                // Основная информация об озере 2
                $('#Name').text(data.name);
                if (LakeId != 0) {
                    $('#LakeIdInfo').html(LakeId);
                }
                $('#Adm1').text(data.adm1);
                $('#Adm2').text(data.adm2);
                $('#Longitude').text(data.longitude);
                $('#Latitude').text(data.latitude);
                $('#Adm3').text(data.adm3);
                if (data.twoparts) {
                    $('.LakePart').show();
                    twoparts = true;
                }
                else {
                    $('.LakePart').hide();
                    twoparts = false;
                }
                $('.FreshPart').hide();
                $('.SaltyPart').hide();
                // Водный баланс
                $('#SurfaceFlow').text($('#NoData').val());
                $('#SurfaceFlowPer').text($('#NoData').val());
                $('#UndergroundFlow').text($('#NoData').val());
                $('#UndergroundFlowPer').text($('#NoData').val());
                $('#Precipitation').text($('#NoData').val());
                $('#PrecipitationPer').text($('#NoData').val());
                $('#WaterBalanceReceipt').text($('#NoData').val());
                $('#WaterBalanceReceiptPer').text($('#NoData').val());
                $('#WaterBalanceExpenditure').text($('#NoData').val());
                $('#WaterBalanceExpenditurePer').text($('#NoData').val());
                $('#SurfaceOutflow').text($('#NoData').val());
                $('#SurfaceOutflowPer').text($('#NoData').val());
                $('#UndergroundOutflow').text($('#NoData').val());
                $('#UndergroundOutflowPer').text($('#NoData').val());
                $('#Evaporation').text($('#NoData').val());
                $('#EvaporationPer').text($('#NoData').val());
                $('#Discrepancy').text($('#NoData').val());
                if (data.wbtable != null) {
                    var SurfaceFlow = 0,
                        SurfaceFlowPer = 0,
                        UndergroundFlow = 0,
                        UndergroundFlowPer = 0,
                        Precipitation = 0,
                        PrecipitationPer = 0,
                        WaterBalanceReceipt = 0,
                        WaterBalanceReceiptPer = 0,
                        WaterBalanceExpenditure = 0,
                        WaterBalanceExpenditurePer = 0,
                        SurfaceOutflow = 0,
                        SurfaceOutflowPer = 0,
                        UndergroundOutflow = 0,
                        UndergroundOutflowPer = 0,
                        Evaporation = 0,
                        EvaporationPer = 0,
                        Discrepancy = 0,

                        SurfaceFlowCount = 0,
                        SurfaceFlowPerCount = 0,
                        UndergroundFlowCount = 0,
                        UndergroundFlowPerCount = 0,
                        PrecipitationCount = 0,
                        PrecipitationPerCount = 0,
                        WaterBalanceReceiptCount = 0,
                        WaterBalanceReceiptPerCount = 0,
                        WaterBalanceExpenditureCount = 0,
                        WaterBalanceExpenditurePerCount = 0,
                        SurfaceOutflowCount = 0,
                        SurfaceOutflowPerCount = 0,
                        UndergroundOutflowCount = 0,
                        UndergroundOutflowPerCount = 0,
                        EvaporationCount = 0,
                        EvaporationPerCount = 0,
                        DiscrepancyCount = 0;
                    for (i = 0; i < data.wbtable.length; i++) {
                        if (data.wbtable[i].surfaceFlow != null) {
                            SurfaceFlow += data.wbtable[i].surfaceFlow;
                            SurfaceFlowCount++;
                        }
                        if (data.wbtable[i].surfaceFlowPer != null) {
                            SurfaceFlowPer += data.wbtable[i].surfaceFlowPer;
                            SurfaceFlowPerCount++;
                        }
                        if (data.wbtable[i].undergroundFlow != null) {
                            UndergroundFlow += data.wbtable[i].undergroundFlow;
                            UndergroundFlowCount++;
                        }
                        if (data.wbtable[i].undergroundFlowPer != null) {
                            UndergroundFlowPer += data.wbtable[i].undergroundFlowPer;
                            UndergroundFlowPerCount++;
                        }
                        if (data.wbtable[i].precipitation != null) {
                            Precipitation += data.wbtable[i].precipitation;
                            PrecipitationCount++;
                        }
                        if (data.wbtable[i].precipitationPer != null) {
                            PrecipitationPer += data.wbtable[i].precipitationPer;
                            PrecipitationPerCount++;
                        }
                        if (data.wbtable[i].waterBalanceReceipt != null) {
                            WaterBalanceReceipt += data.wbtable[i].waterBalanceReceipt;
                            WaterBalanceReceiptCount++;
                        }
                        if (data.wbtable[i].waterBalanceReceiptPer != null) {
                            WaterBalanceReceiptPer += data.wbtable[i].waterBalanceReceiptPer;
                            WaterBalanceReceiptPerCount++;
                        }
                        if (data.wbtable[i].waterBalanceExpenditure != null) {
                            WaterBalanceExpenditure += data.wbtable[i].waterBalanceExpenditure;
                            WaterBalanceExpenditureCount++;
                        }
                        if (data.wbtable[i].waterBalanceExpenditurePer != null) {
                            WaterBalanceExpenditurePer += data.wbtable[i].waterBalanceExpenditurePer;
                            WaterBalanceExpenditurePerCount++;
                        }
                        if (data.wbtable[i].surfaceOutflow != null) {
                            SurfaceOutflow += data.wbtable[i].surfaceOutflow;
                            SurfaceOutflowCount++;
                        }
                        if (data.wbtable[i].surfaceOutflowPer != null) {
                            SurfaceOutflowPer += data.wbtable[i].surfaceOutflowPer;
                            SurfaceOutflowPerCount++;
                        }
                        if (data.wbtable[i].undergroundOutflow != null) {
                            UndergroundOutflow += data.wbtable[i].undergroundOutflow;
                            UndergroundOutflowCount++;
                        }
                        if (data.wbtable[i].undergroundOutflowPer != null) {
                            UndergroundOutflowPer += data.wbtable[i].undergroundOutflowPer;
                            UndergroundOutflowPerCount++;
                        }
                        if (data.wbtable[i].evaporation != null) {
                            Evaporation += data.wbtable[i].evaporation;
                            EvaporationCount++;
                        }
                        if (data.wbtable[i].evaporationPer != null) {
                            EvaporationPer += data.wbtable[i].evaporationPer;
                            EvaporationPerCount++;
                        }
                        if (data.wbtable[i].discrepancy != null) {
                            Discrepancy += data.wbtable[i].discrepancy;
                            DiscrepancyCount++;
                        }
                    }
                    if (SurfaceFlowCount > 0) {
                        SurfaceFlow /= SurfaceFlowCount;
                    }
                    if (SurfaceFlowPerCount > 0) {
                        SurfaceFlowPer /= SurfaceFlowPerCount;
                    }
                    if (UndergroundFlowCount > 0) {
                        UndergroundFlow /= UndergroundFlowCount;
                    }
                    if (UndergroundFlowPerCount > 0) {
                        UndergroundFlowPer /= UndergroundFlowPerCount;
                    }
                    if (PrecipitationCount > 0) {
                        Precipitation /= PrecipitationCount;
                    }
                    if (PrecipitationPerCount > 0) {
                        PrecipitationPer /= PrecipitationPerCount;
                    }
                    if (WaterBalanceReceiptCount > 0) {
                        WaterBalanceReceipt /= WaterBalanceReceiptCount;
                    }
                    if (WaterBalanceReceiptPerCount > 0) {
                        WaterBalanceReceiptPer /= WaterBalanceReceiptPerCount;
                    }
                    if (WaterBalanceExpenditureCount > 0) {
                        WaterBalanceExpenditure /= WaterBalanceExpenditureCount;
                    }
                    if (WaterBalanceExpenditurePerCount > 0) {
                        WaterBalanceExpenditurePer /= WaterBalanceExpenditurePerCount;
                    }
                    if (SurfaceOutflowCount > 0) {
                        SurfaceOutflow /= SurfaceOutflowCount;
                    }
                    if (SurfaceOutflowPerCount > 0) {
                        SurfaceOutflowPer /= SurfaceOutflowPerCount;
                    }
                    if (UndergroundOutflowCount > 0) {
                        UndergroundOutflow /= UndergroundOutflowCount;
                    }
                    if (UndergroundOutflowPerCount > 0) {
                        UndergroundOutflowPer /= UndergroundOutflowPerCount;
                    }
                    if (EvaporationCount > 0) {
                        Evaporation /= EvaporationCount;
                    }
                    if (EvaporationPerCount > 0) {
                        EvaporationPer /= EvaporationPerCount;
                    }
                    if (DiscrepancyCount > 0) {
                        Discrepancy /= DiscrepancyCount;
                    }
                    $('#SurfaceFlow').text(SurfaceFlow.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#SurfaceFlowPer').text(SurfaceFlowPer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#UndergroundFlow').text(UndergroundFlow.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#UndergroundFlowPer').text(UndergroundFlowPer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#Precipitation').text(Precipitation.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#PrecipitationPer').text(PrecipitationPer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#WaterBalanceReceipt').text(WaterBalanceReceipt.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#WaterBalanceReceiptPer').text(WaterBalanceReceiptPer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#WaterBalanceExpenditure').text(WaterBalanceExpenditure.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#WaterBalanceExpenditurePer').text(WaterBalanceExpenditurePer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#SurfaceOutflow').text(SurfaceOutflow.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#SurfaceOutflowPer').text(SurfaceOutflowPer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#UndergroundOutflow').text(UndergroundOutflow.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#UndergroundOutflowPer').text(UndergroundOutflowPer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#Evaporation').text(Evaporation.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#EvaporationPer').text(EvaporationPer.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#Discrepancy').text(Discrepancy.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                }
                TableWB(data);
                if (data.wbtable != null) {
                    $('#chartWBYear').attr('min', data.wbtable.length > 0 ? data.wbtable[0].year : 0);
                    $('#chartWBYear').attr('max', data.wbtable.length > 0 ? data.wbtable[data.wbtable.length - 1].year : 0);
                    $('#chartWBYear').val(data.wbtable.length > 0 ? data.wbtable[0].year : 0);
                    ChartWBX(data);
                    dataWB = data;
                }
                // Уровни воды озер
                ChartWLX(data);
                // Данные по батиграфической и объемной кривой
                ChartBAVCDX(data);
                // Общие гидрохимические показатели
                $('#YearMineralization1').text($('#NoData').val());
                $('#Mineralization1').text($('#NoData').val());
                $('#MineralizationType1').text($('#NoData').val());
                $('#YearTotalHardness1').text($('#NoData').val());
                $('#TotalHardness1').text($('#NoData').val());
                $('#WaterHardness1').text($('#NoData').val());
                $('#YearDissOxygWater1').text($('#NoData').val());
                $('#DissOxygWater1').text($('#NoData').val());
                $('#DissolvedOxygenInWaterDegree1').text($('#NoData').val());
                $('#YearPercentOxygWater1').text($('#NoData').val());
                $('#PercentOxygWater1').text($('#NoData').val());
                $('#YearpH1').text($('#NoData').val());
                $('#pH1').text($('#NoData').val());
                $('#AcidityOfWaterDegree1').text($('#NoData').val());
                $('#YearOrganicSubstances1').text($('#NoData').val());
                $('#OrganicSubstances1').text($('#NoData').val());
                $('#YearMineralization2').text($('#NoData').val());
                $('#Mineralization2').text($('#NoData').val());
                $('#MineralizationType2').text($('#NoData').val());
                $('#YearTotalHardness2').text($('#NoData').val());
                $('#TotalHardness2').text($('#NoData').val());
                $('#WaterHardness2').text($('#NoData').val());
                $('#YearDissOxygWater2').text($('#NoData').val());
                $('#DissOxygWater2').text($('#NoData').val());
                $('#DissolvedOxygenInWaterDegree2').text($('#NoData').val());
                $('#YearPercentOxygWater2').text($('#NoData').val());
                $('#PercentOxygWater2').text($('#NoData').val());
                $('#YearpH2').text($('#NoData').val());
                $('#pH2').text($('#NoData').val());
                $('#AcidityOfWaterDegree2').text($('#NoData').val());
                $('#YearOrganicSubstances2').text($('#NoData').val());
                $('#OrganicSubstances2').text($('#NoData').val());
                if (data.ghitable1 != null) {
                    for (i = 0; i < data.ghitable1.length; i++) {
                        if (data.ghitable1[i].mineralization != null) {
                            $('#YearMineralization1').text(data.ghitable1[i].year);
                            $('#Mineralization1').text(data.ghitable1[i].mineralization);
                            $('#MineralizationType1').text(data.ghitable1[i].mineralizationType);
                        }
                        if (data.ghitable1[i].totalHardness != null) {
                            $('#YearTotalHardness1').text(data.ghitable1[i].year);
                            $('#TotalHardness1').text(data.ghitable1[i].totalHardness);
                            $('#WaterHardness1').text(data.ghitable1[i].waterHardness);
                        }
                        if (data.ghitable1[i].dissOxygWater != null) {
                            $('#YearDissOxygWater1').text(data.ghitable1[i].year);
                            $('#DissOxygWater1').text(data.ghitable1[i].dissOxygWater);
                            $('#DissolvedOxygenInWaterDegree1').text(data.ghitable1[i].dissolvedOxygenInWaterDegree);
                        }
                        if (data.ghitable1[i].percentOxygWater != null) {
                            $('#YearPercentOxygWater1').text(data.ghitable1[i].year);
                            $('#PercentOxygWater1').text(data.ghitable1[i].percentOxygWater);
                        }
                        if (data.ghitable1[i].pH != null) {
                            $('#YearpH1').text(data.ghitable1[i].year);
                            $('#pH1').text(data.ghitable1[i].pH);
                            $('#AcidityOfWaterDegree1').text(data.ghitable1[i].acidityOfWaterDegree);
                        }
                        if (data.ghitable1[i].organicSubstances != null) {
                            $('#YearOrganicSubstances1').text(data.ghitable1[i].year);
                            $('#OrganicSubstances1').text(data.ghitable1[i].organicSubstances);
                        }
                    }
                }
                if (data.ghitable2 != null) {
                    for (i = 0; i < data.ghitable2.length; i++) {
                        if (data.ghitable2[i].mineralization != null) {
                            $('#YearMineralization2').text(data.ghitable2[i].year);
                            $('#Mineralization2').text(data.ghitable2[i].mineralization);
                            $('#MineralizationType2').text(data.ghitable2[i].mineralizationType);
                        }
                        if (data.ghitable2[i].totalHardness != null) {
                            $('#YearTotalHardness2').text(data.ghitable2[i].year);
                            $('#TotalHardness2').text(data.ghitable2[i].totalHardness);
                            $('#WaterHardness2').text(data.ghitable2[i].waterHardness);
                        }
                        if (data.ghitable2[i].dissOxygWater != null) {
                            $('#YearDissOxygWater2').text(data.ghitable2[i].year);
                            $('#DissOxygWater2').text(data.ghitable2[i].dissOxygWater);
                            $('#DissolvedOxygenInWaterDegree2').text(data.ghitable2[i].dissolvedOxygenInWaterDegree);
                        }
                        if (data.ghitable2[i].percentOxygWater != null) {
                            $('#YearPercentOxygWater2').text(data.ghitable2[i].year);
                            $('#PercentOxygWater2').text(data.ghitable2[i].percentOxygWater);
                            $('#WaterHardness2').text(data.ghitable2[i].waterHardness);
                        }
                        if (data.ghitable2[i].pH != null) {
                            $('#YearpH2').text(data.ghitable2[i].year);
                            $('#pH2').text(data.ghitable2[i].pH);
                            $('#AcidityOfWaterDegree2').text(data.ghitable2[i].acidityOfWaterDegree);
                        }
                        if (data.ghitable2[i].organicSubstances != null) {
                            $('#YearOrganicSubstances2').text(data.ghitable2[i].year);
                            $('#OrganicSubstances2').text(data.ghitable2[i].organicSubstances);
                        }
                    }
                }
                TableMineralization(data);
                ChartMineralization(data);
                TableTotalHardness(data);
                ChartTotalHardness(data);
                TableDissOxygWater(data);
                ChartDissOxygWater(data);
                TablePercentOxygWater(data);
                TableOrganicSubstances(data);
                ChartOrganicSubstances(data);
                TablepH(data);
                ChartpH(data);
                // Ионно-солевой состав воды
                $('#YearCa1').text($('#NoData').val());
                $('#Ca1').text($('#NoData').val());
                $('#AlekinWaterCompositionClass1').text($('#NoData').val());
                $('#KurlovFormula1').text($('#NoData').val());
                $('#YearMg1').text($('#NoData').val());
                $('#Mg1').text($('#NoData').val());
                $('#YearNaK1').text($('#NoData').val());
                $('#NaK1').text($('#NoData').val());
                $('#YearCl1').text($('#NoData').val());
                $('#Cl1').text($('#NoData').val());
                $('#YearHCO1').text($('#NoData').val());
                $('#HCO1').text($('#NoData').val());
                $('#YearSO1').text($('#NoData').val());
                $('#SO1').text($('#NoData').val());
                $('#YearCa2').text($('#NoData').val());
                $('#Ca2').text($('#NoData').val());
                $('#AlekinWaterCompositionClass2').text($('#NoData').val());
                $('#KurlovFormula2').text($('#NoData').val());
                $('#YearMg2').text($('#NoData').val());
                $('#Mg2').text($('#NoData').val());
                $('#YearNaK2').text($('#NoData').val());
                $('#NaK2').text($('#NoData').val());
                $('#YearCl2').text($('#NoData').val());
                $('#Cl2').text($('#NoData').val());
                $('#YearHCO2').text($('#NoData').val());
                $('#HCO2').text($('#NoData').val());
                $('#YearSO2').text($('#NoData').val());
                $('#SO2').text($('#NoData').val());
                if (data.iwctable1 != null) {
                    for (i = 0; i < data.iwctable1.length; i++) {
                        if (data.iwctable1[i].caMg != null) {
                            $('#YearCa1').text(data.iwctable1[i].year);
                            $('#Ca1').text((data.iwctable1[i].caMg != null ? data.iwctable1[i].caMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].caPerEq != null ? data.iwctable1[i].caPerEq.toFixed(2) : null));
                            $('#AlekinWaterCompositionClass1').text(data.iwctable1[i].alekinWaterCompositionClass);
                            $('#KurlovFormula1').text(data.iwctable1[i].kurlovFormula);
                        }
                        if (data.iwctable1[i].mgMg != null) {
                            $('#YearMg1').text(data.iwctable1[i].year);
                            $('#Mg1').text((data.iwctable1[i].mgMg != null ? data.iwctable1[i].mgMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].mgPerEq != null ? data.iwctable1[i].mgPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].naKMg != null) {
                            $('#YearNaK1').text(data.iwctable1[i].year);
                            $('#NaK1').text((data.iwctable1[i].naKMg != null ? data.iwctable1[i].naKMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].naKPerEq != null ? data.iwctable1[i].naKPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].clMg != null) {
                            $('#YearCl1').text(data.iwctable1[i].year);
                            $('#Cl1').text((data.iwctable1[i].clMg != null ? data.iwctable1[i].clMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].clPerEq != null ? data.iwctable1[i].clPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].hcoMg != null) {
                            $('#YearHCO1').text(data.iwctable1[i].year);
                            $('#HCO1').text((data.iwctable1[i].hcoMg != null ? data.iwctable1[i].hcoMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].hcoPerEq != null ? data.iwctable1[i].hcoPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].soMg != null) {
                            $('#YearSO1').text(data.iwctable1[i].year);
                            $('#SO1').text((data.iwctable1[i].soMg != null ? data.iwctable1[i].soMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].soPerEq != null ? data.iwctable1[i].soPerEq.toFixed(2) : null));
                        }
                    }
                }
                if (data.iwctable2 != null) {
                    for (i = 0; i < data.iwctable2.length; i++) {
                        if (data.iwctable2[i].caMg != null) {
                            $('#YearCa2').text(data.iwctable2[i].year);
                            $('#Ca2').text((data.iwctable2[i].caMg != null ? data.iwctable2[i].caMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].caPerEq != null ? data.iwctable2[i].caPerEq.toFixed(2) : null));
                            $('#AlekinWaterCompositionClass2').text(data.iwctable2[i].alekinWaterCompositionClass);
                            $('#KurlovFormula2').text(data.iwctable2[i].kurlovFormula);
                        }
                        if (data.iwctable2[i].mgMg != null) {
                            $('#YearMg2').text(data.iwctable2[i].year);
                            $('#Mg2').text((data.iwctable2[i].mgMg != null ? data.iwctable2[i].mgMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].mgPerEq != null ? data.iwctable2[i].mgPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].naKMg != null) {
                            $('#YearNaK2').text(data.iwctable2[i].year);
                            $('#NaK2').text((data.iwctable2[i].naKMg != null ? data.iwctable2[i].naKMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].naKPerEq != null ? data.iwctable2[i].naKPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].clMg != null) {
                            $('#YearCl2').text(data.iwctable2[i].year);
                            $('#Cl2').text((data.iwctable2[i].clMg != null ? data.iwctable2[i].clMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].clPerEq != null ? data.iwctable2[i].clPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].hcoMg != null) {
                            $('#YearHCO2').text(data.iwctable2[i].year);
                            $('#HCO2').text((data.iwctable2[i].hcoMg != null ? data.iwctable2[i].hcoMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].hcoPerEq != null ? data.iwctable2[i].hcoPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].soMg != null) {
                            $('#YearSO2').text(data.iwctable2[i].year);
                            $('#SO2').text((data.iwctable2[i].soMg != null ? data.iwctable2[i].soMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].soPerEq != null ? data.iwctable2[i].soPerEq.toFixed(2) : null));
                        }
                    }
                }
                TableKurlovFormula(data);
                TableAlekinWaterCompositionClass(data);
                // Токсикологические показатели
                $('#YearNH41').text($('#NoData').val());
                $('#NH41').text($('#NoData').val());
                $('#IZVNH41').text($('#NoData').val());
                $('#YearNO21').text($('#NoData').val());
                $('#NO21').text($('#NoData').val());
                $('#IZVNO21').text($('#NoData').val());
                $('#YearNO31').text($('#NoData').val());
                $('#NO31').text($('#NoData').val());
                $('#IZVNO31').text($('#NoData').val());
                $('#YearPPO41').text($('#NoData').val());
                $('#PPO41').text($('#NoData').val());
                $('#IZVPPO41').text($('#NoData').val());
                $('#YearCu1').text($('#NoData').val());
                $('#Cu1').text($('#NoData').val());
                $('#IZVCu1').text($('#NoData').val());
                $('#YearZn1').text($('#NoData').val());
                $('#Zn1').text($('#NoData').val());
                $('#IZVZn1').text($('#NoData').val());
                $('#YearMn1').text($('#NoData').val());
                $('#Mn1').text($('#NoData').val());
                $('#IZVMn1').text($('#NoData').val());
                $('#YearPb1').text($('#NoData').val());
                $('#Pb1').text($('#NoData').val());
                $('#IZVPb1').text($('#NoData').val());
                $('#YearNi1').text($('#NoData').val());
                $('#Ni1').text($('#NoData').val());
                $('#IZVNi1').text($('#NoData').val());
                $('#YearCd1').text($('#NoData').val());
                $('#Cd1').text($('#NoData').val());
                $('#IZVCd1').text($('#NoData').val());
                $('#YearCo1').text($('#NoData').val());
                $('#Co1').text($('#NoData').val());
                $('#IZVCo1').text($('#NoData').val());
                $('#YearNH42').text($('#NoData').val());
                $('#NH42').text($('#NoData').val());
                $('#IZVNH42').text($('#NoData').val());
                $('#YearNO22').text($('#NoData').val());
                $('#NO22').text($('#NoData').val());
                $('#IZVNO22').text($('#NoData').val());
                $('#YearNO32').text($('#NoData').val());
                $('#NO32').text($('#NoData').val());
                $('#IZVNO32').text($('#NoData').val());
                $('#YearPPO42').text($('#NoData').val());
                $('#PPO42').text($('#NoData').val());
                $('#IZVPPO42').text($('#NoData').val());
                $('#YearCu2').text($('#NoData').val());
                $('#Cu2').text($('#NoData').val());
                $('#IZVCu2').text($('#NoData').val());
                $('#YearZn2').text($('#NoData').val());
                $('#Zn2').text($('#NoData').val());
                $('#IZVZn2').text($('#NoData').val());
                $('#YearMn2').text($('#NoData').val());
                $('#Mn2').text($('#NoData').val());
                $('#IZVMn2').text($('#NoData').val());
                $('#YearPb2').text($('#NoData').val());
                $('#Pb2').text($('#NoData').val());
                $('#IZVPb2').text($('#NoData').val());
                $('#YearNi2').text($('#NoData').val());
                $('#Ni2').text($('#NoData').val());
                $('#IZVNi2').text($('#NoData').val());
                $('#YearCd2').text($('#NoData').val());
                $('#Cd2').text($('#NoData').val());
                $('#IZVCd2').text($('#NoData').val());
                $('#YearCo2').text($('#NoData').val());
                $('#Co2').text($('#NoData').val());
                $('#IZVCo2').text($('#NoData').val());
                $('#YearKIZV1').text($('#NoData').val());
                $('#KIZV1').text($('#NoData').val());
                $('#KIZVs1').text('');
                $('#YearKIZV2').text($('#NoData').val());
                $('#KIZV2').text($('#NoData').val());
                $('#KIZVs2').text('');
                if (data.titable1 != null) {
                    for (i = 0; i < data.titable1.length; i++) {
                        if (data.titable1[i].nH4 != null) {
                            $('#YearNH41').text(data.titable1[i].year);
                            $('#NH41').text(data.titable1[i].nH4);
                            $('#IZVNH41').text((data.titable1[i].izvnH4 != null ? data.titable1[i].izvnH4.toFixed(2) : null));
                        }
                        if (data.titable1[i].nO2 != null) {
                            $('#YearNO21').text(data.titable1[i].year);
                            $('#NO21').text(data.titable1[i].nO2);
                            $('#IZVNO21').text((data.titable1[i].izvnO2 != null ? data.titable1[i].izvnO2.toFixed(2) : null));
                        }
                        if (data.titable1[i].nO3 != null) {
                            $('#YearNO31').text(data.titable1[i].year);
                            $('#NO31').text(data.titable1[i].nO3);
                            $('#IZVNO31').text((data.titable1[i].izvnO3 != null ? data.titable1[i].izvnO3.toFixed(2) : null));
                        }
                        if (data.titable1[i].ppO4 != null) {
                            $('#YearPPO41').text(data.titable1[i].year);
                            $('#PPO41').text(data.titable1[i].ppO4);
                            $('#IZVPPO41').text((data.titable1[i].izvppO4 != null ? data.titable1[i].izvppO4.toFixed(2) : null));
                        }
                        if (data.titable1[i].cu != null) {
                            $('#YearCu1').text(data.titable1[i].year);
                            $('#Cu1').text(data.titable1[i].cu);
                            $('#IZVCu1').text((data.titable1[i].izvCu != null ? data.titable1[i].izvCu.toFixed(2) : null));
                        }
                        if (data.titable1[i].zn != null) {
                            $('#YearZn1').text(data.titable1[i].year);
                            $('#Zn1').text(data.titable1[i].zn);
                            $('#IZVZn1').text((data.titable1[i].izvZn != null ? data.titable1[i].izvZn.toFixed(2) : null));
                        }
                        if (data.titable1[i].mn != null) {
                            $('#YearMn1').text(data.titable1[i].year);
                            $('#Mn1').text(data.titable1[i].mn);
                            $('#IZVMn1').text((data.titable1[i].izvMn != null ? data.titable1[i].izvMn.toFixed(2) : null));
                        }
                        if (data.titable1[i].pb != null) {
                            $('#YearPb1').text(data.titable1[i].year);
                            $('#Pb1').text(data.titable1[i].pb);
                            $('#IZVPb1').text((data.titable1[i].izvPb != null ? data.titable1[i].izvPb.toFixed(2) : null));
                        }
                        if (data.titable1[i].ni != null) {
                            $('#YearNi1').text(data.titable1[i].year);
                            $('#Ni1').text(data.titable1[i].ni);
                            $('#IZVNi1').text((data.titable1[i].izvNi != null ? data.titable1[i].izvNi.toFixed(2) : null));
                        }
                        if (data.titable1[i].cd != null) {
                            $('#YearCd1').text(data.titable1[i].year);
                            $('#Cd1').text(data.titable1[i].cd);
                            $('#IZVCd1').text((data.titable1[i].izvCd != null ? data.titable1[i].izvCd.toFixed(2) : null));
                        }
                        if (data.titable1[i].co != null) {
                            $('#YearCo1').text(data.titable1[i].year);
                            $('#Co1').text(data.titable1[i].co);
                            $('#IZVCo1').text((data.titable1[i].izvCo != null ? data.titable1[i].izvCo.toFixed(2) : null));
                        }
                        if (data.titable1[i].kizv != null) {
                            $('#KIZV1').text((data.titable1[i].kizv != null ? data.titable1[i].kizv.toFixed(2) : null));
                            $('#KIZVs1').text(data.titable1[i].kizVs);
                            $('#YearKIZV1').text(data.titable1[i].year);
                        }
                        if (data.titable1[i].nutrientsHeavyMetalsStandard != null) {
                            $("#NutrientsHeavyMetalsStandardLink1").prop("href", window.location.origin + "/NutrientsHeavyMetalsStandards/Details/" + data.titable1[i].nutrientsHeavyMetalsStandard.id);
                            $("#RegulatoryDocumentLink1").prop("href", window.location.origin + "/RegulatoryDocuments/Details/" + data.titable1[i].nutrientsHeavyMetalsStandard.regulatoryDocument.id);
                        }
                    }
                }
                if (data.titable2 != null) {
                    for (i = 0; i < data.titable2.length; i++) {
                        if (data.titable2[i].nH4 != null) {
                            $('#YearNH42').text(data.titable2[i].year);
                            $('#NH42').text(data.titable2[i].nH4);
                            $('#IZVNH42').text((data.titable2[i].izvnH4 != null ? data.titable2[i].izvnH4.toFixed(2) : null));
                        }
                        if (data.titable2[i].nO2 != null) {
                            $('#YearNO22').text(data.titable2[i].year);
                            $('#NO22').text(data.titable2[i].nO2);
                            $('#IZVNO22').text((data.titable2[i].izvnO2 != null ? data.titable2[i].izvnO2.toFixed(2) : null));
                        }
                        if (data.titable2[i].nO3 != null) {
                            $('#YearNO32').text(data.titable2[i].year);
                            $('#NO32').text(data.titable2[i].nO3);
                            $('#IZVNO32').text((data.titable2[i].izvnO3 != null ? data.titable2[i].izvnO3.toFixed(2) : null));
                        }
                        if (data.titable2[i].ppO4 != null) {
                            $('#YearPPO42').text(data.titable2[i].year);
                            $('#PPO42').text(data.titable2[i].ppO4);
                            $('#IZVPPO42').text((data.titable2[i].izvppO4 != null ? data.titable2[i].izvppO4.toFixed(2) : null));
                        }
                        if (data.titable2[i].cu != null) {
                            $('#YearCu2').text(data.titable2[i].year);
                            $('#Cu2').text(data.titable2[i].cu);
                            $('#IZVCu2').text((data.titable2[i].izvCu != null ? data.titable2[i].izvCu.toFixed(2) : null));
                        }
                        if (data.titable2[i].zn != null) {
                            $('#YearZn2').text(data.titable2[i].year);
                            $('#Zn2').text(data.titable2[i].zn);
                            $('#IZVZn2').text((data.titable2[i].izvZn != null ? data.titable2[i].izvZn.toFixed(2) : null));
                        }
                        if (data.titable2[i].mn != null) {
                            $('#YearMn2').text(data.titable2[i].year);
                            $('#Mn2').text(data.titable2[i].mn);
                            $('#IZVMn2').text((data.titable2[i].izvMn != null ? data.titable2[i].izvMn.toFixed(2) : null));
                        }
                        if (data.titable2[i].pb != null) {
                            $('#YearPb2').text(data.titable2[i].year);
                            $('#Pb2').text(data.titable2[i].pb);
                            $('#IZVPb2').text((data.titable2[i].izvPb != null ? data.titable2[i].izvPb.toFixed(2) : null));
                        }
                        if (data.titable2[i].ni != null) {
                            $('#YearNi2').text(data.titable2[i].year);
                            $('#Ni2').text(data.titable2[i].ni);
                            $('#IZVNi2').text((data.titable2[i].izvNi != null ? data.titable2[i].izvNi.toFixed(2) : null));
                        }
                        if (data.titable2[i].cd != null) {
                            $('#YearCd2').text(data.titable2[i].year);
                            $('#Cd2').text(data.titable2[i].cd);
                            $('#IZVCd2').text((data.titable2[i].izvCd != null ? data.titable2[i].izvCd.toFixed(2) : null));
                        }
                        if (data.titable2[i].co != null) {
                            $('#YearCo2').text(data.titable2[i].year);
                            $('#Co2').text(data.titable2[i].co);
                            $('#IZVCo2').text((data.titable2[i].izvCo != null ? data.titable2[i].izvCo.toFixed(2) : null));
                        }
                        if (data.titable2[i].kizv != null) {
                            $('#KIZV2').text((data.titable2[i].kizv != null ? data.titable2[i].kizv.toFixed(2) : null));
                            $('#KIZVs2').text(data.titable2[i].kizVs);
                            $('#YearKIZV2').text(data.titable2[i].year);
                        }
                        if (data.titable2[i].nutrientsHeavyMetalsStandard != null) {
                            $("#NutrientsHeavyMetalsStandardLink2").prop("href", window.location.origin + "/NutrientsHeavyMetalsStandards/Details/" + data.titable2[i].nutrientsHeavyMetalsStandard.id);
                            $("#RegulatoryDocumentLink2").prop("href", window.location.origin + "/RegulatoryDocuments/Details/" + data.titable2[i].nutrientsHeavyMetalsStandard.regulatoryDocument.id);
                        }
                    }
                }
                TableNH4(data);
                ChartNH4(data);
                TableNO2(data);
                ChartNO2(data);
                TableNO3(data);
                ChartNO3(data);
                TablePPO4(data);
                ChartPPO4(data);
                TableCu(data);
                ChartCu(data);
                TableZn(data);
                ChartZn(data);
                TableMn(data);
                ChartMn(data);
                TablePb(data);
                ChartPb(data);
                TableNi(data);
                ChartNi(data);
                TableCd(data);
                ChartCd(data);
                TableCo(data);
                ChartCo(data);
                TableKIZV(data);
                ChartKIZV(data);
                // Переходы
                //ChartPASD1X(data);
                //if (data.wbtable != null) {
                //    //$('#chartWBYear').attr('min', data.wbtable.length > 0 ? data.wbtable[0].year : 0);
                //    //$('#chartWBYear').attr('max', data.wbtable.length > 0 ? data.wbtable[data.wbtable.length - 1].year : 0);
                //    //$('#chartWBYear').val(data.wbtable.length > 0 ? data.wbtable[0].year : 0);
                //    ChartPASD1X(data);
                //    dataWB = data;
                //}
                // Димнамика площадей
                ChartPASD1X(data);
                if (data.pasdtable != null) {
                    $('#chartPASDYear').attr('min', data.pasdtable.length > 0 ? data.pasdtable[0].year : 0);
                    $('#chartPASDYear').attr('max', data.pasdtable.length > 0 ? data.pasdtable[data.pasdtable.length - 1].year : 0);
                    $('#chartPASDYear').val(data.pasdtable.length > 0 ? data.pasdtable[0].year : 0);
                    ChartPASD2X(data);
                    dataPASD = data;
                }
                // Изменение состояние воды
                ChartTransitionX(data);
                // Присутствие воды в месяцах
                ChartSeasonalitX(data);
            },
            error: function () {
            }
        });
    }
</script>
@await Html.PartialAsync("_MapScriptGetLakeInfoHydrochemistries")
@await Html.PartialAsync("_MapScriptGetLakeInfoHydrology")
@await Html.PartialAsync("_MapScriptGetLakeInfoDynamicsLakeAreas")
@await Html.PartialAsync("_MapScriptGetLakeInfoTransition")
@await Html.PartialAsync("_MapScriptGetLakeInfoSeasonalit")
@* ChangeDataType, SlideYear, ChangeYear *@
@await Html.PartialAsync("_MapScriptChangeDataType")
@*Map onclick*@
<script>
    map.on('singleclick', function (evt) {
        Source_Lake.clear();
        var viewResolution = (map.getView().getResolution());
        var url = Source_Lakes.getGetFeatureInfoUrl(
            evt.coordinate, viewResolution, 'EPSG:3857',
            {
                'INFO_FORMAT': 'text/javascript'
                //'FEATURE_COUNT': '10000'
            });
        if (url) {
            var parser = new ol.format.GeoJSON();
            $.ajax({
                jsonp: false,
                jsonpCallback: 'getJson',
                type: 'GET',
                url: url + "&format_options=callback:getJson",
                async: false,
                dataType: 'jsonp',
                //jsonpCallback: 'parseResponse',
                error: function (xhr, status, error) {

                }
            }).then(function (response) {
                var result = parser.readFeatures(response);
                if (result.length > 0) {
                    SelectLakeZoom(result[0].get('id'), false);
                }
            })
        }
    })
</script>
@* SearchChange *@
<script>
    // select - выбранный на главной странице
    function SearchChange(select) {
        var Adm1KATOId = null,
            Adm2KATOId = null,
            VHB = null,
            VHU = null,
            System = null;
        //if ($("input[name='filtertabs']:checked").val() == 'filterKATO') {
        if ($("#filtertab1").hasClass('show')) {
            Adm1KATOId = $('#adm1').val();
            Adm2KATOId = $('#adm2').val();
        }
        //else if ($("input[name='filtertabs']:checked").val() == 'filterVHBVHU') {
        else if ($("#filtertab2").hasClass('show')) {
            VHB = $('#svhb').val();
            VHU = $('#svhu').val();
        }
        //else if ($("input[name='filtertabs']:checked").val() == 'filterSystem') {
        else if ($("#filtertab3").hasClass('show')) {
            System = $('#ssystem').val();
        }
        $("#LakeId").LoadingOverlay("show");
        $.ajax({
            url: '@Url.Action("GetLakes")',
            data: {
                Search: $('#searchlake').val(),
                Adm1KATOId: Adm1KATOId,
                Adm2KATOId: Adm2KATOId,
                VHB: VHB,
                VHU: VHU,
                LakeSystem: System
            },
            type: 'POST',
            success: function (data) {
                var $dropdown = $("#LakeId");
                $dropdown.find('option')
                    .remove();
                $.each(data.lakes, function () {
                    $dropdown.append($("<option />").val(this.lakeId).text(this.name));
                });
                if (select > 0) {
                    $("#LakeId").val(select);
                }
                //$('#foundLakes').text($('#Found').val() + ': ' + data.lakes.length.toString());
                $('#foundLakes').text(data.lakes.length.toString());
                $("#LakeId").LoadingOverlay("hide");
            },
            error: function () {
                $("#LakeId").LoadingOverlay("hide");
            }
        });
    }

    function GetAdm1() {
        var $dropdown = $("#adm1");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetAdm1")',
            data: {
                Search: $('#searchlake').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.adm1, function () {
                    $dropdown.append($("<option />").val(this.id).text(this.name));
                });
            },
            error: function () {
            }
        });
    }

    function GetAdm2() {
        var $dropdown = $("#adm2");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetAdm2")',
            data: {
                Search: $('#searchlake').val(),
                Adm1KATOId: $('#adm1').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.adm2, function () {
                    $dropdown.append($("<option />").val(this.id).text(this.name));
                });
            },
            error: function () {
            }
        });
    }

    function GetVHB() {
        var $dropdown = $("#svhb");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetVHB")',
            data: {
                Search: $('#searchlake').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.vhb, function () {
                    $dropdown.append($("<option />").val(this).text(this));
                });
            },
            error: function () {
            }
        });
    }

    function GetVHU() {
        var $dropdown = $("#svhu");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetVHU")',
            data: {
                Search: $('#searchlake').val(),
                VHB: $('#svhb').val()
            },
            type: 'POST',
            success: function (data) {

                $dropdown.append($("<option />"));
                $.each(data.vhu, function () {
                    $dropdown.append($("<option />").val(this).text(this));
                });
            },
            error: function () {
            }
        });
    }

    function GetSystem() {
        var $dropdown = $("#ssystem");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetSystem")',
            data: {
                Search: $('#searchlake').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.system, function () {
                    $dropdown.append($("<option />").val(this.lakeSystemId).text(this.name));
                });
            },
            error: function () {
            }
        });
    }

    function ResetSearch() {
        $('#searchlake').val('');
        GetAdm1();
        GetAdm2();
        GetVHB();
        GetVHU();
        GetSystem();
        SearchChange(0);
    }
</script>
@* $(document).ready(function () {}) *@
<script>
    //function Test() {
    //    $("#LakeGroup").hide();
    //    alert(1);
    //}

    $(document).ready(function () {
        $("#LakeGroup").hide();
        ChangeDataType();
        $('#searchlake').val($('#LakeName').val());
        if ($('#ViewBagLakeId').val() != '') {
            GetAdm1(); GetAdm2(); GetVHB(); GetVHU();
            SearchChange($('#ViewBagLakeId').val());
        }
        else {
            SearchChange(0);
        }
    });
</script>

<!-- Main File-->
<script src="~/js/front.js"></script>