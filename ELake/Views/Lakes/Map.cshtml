@*@ViewBag.LakesLayer ELake.ViewBag.LakesLayers.Lake*@
@using ELake.Controllers
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<SharedResources> SharedLocalizer
@{
    ViewData["Title"] = SharedLocalizer["Lakes"];
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/lib/jquery/dist/jquery.js"></script>
<link href="~/lib/ol/ol.css" rel="stylesheet" />
<script src="~/lib/ol/ol.js"></script>
<script src="~/lib/chart.js/Chart.js"></script>
<script src="~/lib/gasparesganga-jquery-loading-overlay/src/loadingoverlay.js"></script>

@*<input type="button" name="Text" value="VTest" onclick="Test()" />*@
<div class="container-fluid" id="maindiv">
    <div class="row">
        <div class="col-md-9">
            <div class="d-block border-bottom border-primary p-2" style="background-color: #e3f2fd;">
                <div class="col-md-4 ">
                    <form class="form-inline my-2 my-lg-0">
                        <input id="search" class="form-control form-control-sm mr-sm-2" type="search" placeholder="@SharedLocalizer["Search"]" aria-label="Search" oninput="GetAdm1(); GetAdm2(); GetVHB(); GetVHU(); GetSystem(); SearchChange(0);">
                        <input type="button" class="form-control form-control-sm mr-sm-2" value="@SharedLocalizer["Reset"]" onclick="ResetSearch()"/>
                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body bg-light">
                            <div class="input-group">
                                <label id="foundLakes">@SharedLocalizer["Found"]:</label>
                            </div>
                            <div class="input-group">
                                <select id="LakeId" class="form-control" size="5" onchange="GetLakeGroup(); SelectLakeZoom($('#LakeId').val().toString(), true)"></select>
                                <select id="LakeGroup" class="form-control" size="5" onchange="SelectLakeZoom($('#LakeGroup').val().toString(), true)" ></select>
                            </div>
                            <div class='mtabs mt-1'>
                                <input id="filtertab1" type="radio" name="filtertabs" value="filterKATO" onchange="SearchChange(0);" checked>
                                <label for="filtertab1">@SharedLocalizer["FilterKATO"]</label>
                                <input id="filtertab2" type="radio" name="filtertabs" value="filterVHBVHU" onchange="SearchChange(0);">
                                <label for="filtertab2">@SharedLocalizer["FilterVHBVHU"]</label>
                                <input id="filtertab3" type="radio" name="filtertabs" value="filterSystem" onchange="SearchChange(0);">
                                <label for="filtertab3">@SharedLocalizer["LakeSystem"]</label>
                                <section id="filtercontent1">
                                    <div class="input-group">
                                        <select id="adm1" class="form-control" asp-items="ViewBag.Adm1" onchange="GetAdm2(); SearchChange(0);">
                                            <option selected></option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <select id="adm2" class="form-control" onchange="SearchChange(0);">
                                            <option selected></option>
                                        </select>
                                    </div>
                                </section>
                                <section id="filtercontent2">
                                    <div class="input-group">
                                        <select id="svhb" class="form-control" asp-items="ViewBag.VHB" onchange="GetVHU(); SearchChange(0);">
                                            <option selected></option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <select id="svhu" class="form-control" onchange="SearchChange(0);">
                                            <option selected></option>
                                        </select>
                                    </div>
                                </section>
                                <section id="filtercontent3">
                                    <div class="input-group">
                                        <select id="ssystem" class="form-control" asp-items="ViewBag.System" onchange="SearchChange(0);">
                                            <option selected></option>
                                        </select>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-body">
                            <div id="map"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class='mtabs mt-1'>
                <input id="tab1" type="radio" name="tabs" checked>
                <label for="tab1">@SharedLocalizer["BasicInfoLake"]</label>
                <input id="tab2" type="radio" name="tabs">
                <label for="tab2">@SharedLocalizer["Hydrology"]</label>
                <input id="tab3" type="radio" name="tabs">
                <label for="tab3">@SharedLocalizer["Hydrochemistries"]</label>
                <input id="tab4" type="radio" name="tabs">
                <label for="tab4">@SharedLocalizer["Hydrobiology"]</label>
                <section id="content1">
                    <dl class="row">
                        <dt class="col-sm-5">
                            @SharedLocalizer["Name"]
                        </dt>
                        <dd class="col-sm-7 text-right" id="Name"></dd>
                        <dt class="col-sm-5">
                            @SharedLocalizer["LakeId"]
                        </dt>
                        <dd class="col-sm-7 text-right" id="LakeIdInfo"></dd>
                        <dt class="col-sm-5">
                            @SharedLocalizer["Adm1"]
                        </dt>
                        <dd class="col-sm-7 text-right" id="Adm1"></dd>
                        <dt class="col-sm-5">
                            @SharedLocalizer["Adm2"]
                        </dt>
                        <dd class="col-sm-7 text-right" id="Adm2"></dd>
                        <dt class="col-sm-5">
                            @SharedLocalizer["Longitude"]
                        </dt>
                        <dd class="col-sm-7 text-right" id="Longitude"></dd>
                        <dt class="col-sm-5">
                            @SharedLocalizer["Latitude"]
                        </dt>
                        <dd class="col-sm-7 text-right" id="Latitude"></dd>
                    </dl>
                </section>
                <section id="content2"></section>
                <section id="content3">
                    <input id="tabghi1" type="radio" name="ghi" checked>
                    <label for="tabghi1">@SharedLocalizer["GeneralHydrochemicalIndicators"]</label>
                    <input id="tabghi2" type="radio" name="ghi">
                    <label for="tabghi2">@SharedLocalizer["IonsaltWaterCompositions"]</label>
                    <input id="tabghi3" type="radio" name="ghi">
                    <label for="tabghi3">@SharedLocalizer["ToxicologicalIndicators"]</label>
                    <section id="contentghi1">
                        <h3>@SharedLocalizer["GeneralHydrochemicalIndicators"]</h3>
                        <h4 class="LakePart">@SharedLocalizer[LakePart.FreshPart.ToString()]</h4>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Indicator"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Value"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["QualitativeAssessment"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Mineralization"]
                                    </td>
                                    <td id="YearMineralization1"></td>
                                    <td id="Mineralization1"></td>
                                    <td id="MineralizationType1"></td>
                                    <td>
                                        <p onclick="ShowTableMineralization1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartMineralization1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["TotalHardness"]
                                    </td>
                                    <td id="YearTotalHardness1"></td>
                                    <td id="TotalHardness1"></td>
                                    <td id="WaterHardness1"></td>
                                    <td>
                                        <p onclick="ShowTableTotalHardness1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartTotalHardness1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["DissOxygWater"]
                                    </td>
                                    <td id="YearDissOxygWater1"></td>
                                    <td id="DissOxygWater1"></td>
                                    <td id="DissolvedOxygenInWaterDegree1"></td>
                                    <td>
                                        <p onclick="ShowTableDissOxygWater1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartDissOxygWater1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["PercentOxygWater"]
                                    </td>
                                    <td id="YearPercentOxygWater1"></td>
                                    <td id="PercentOxygWater1"></td>
                                    <td></td>
                                    <td>
                                        <p onclick="ShowTablePercentOxygWater1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartPercentOxygWater1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["pH"]
                                    </td>
                                    <td id="YearpH1"></td>
                                    <td id="pH1"></td>
                                    <td id="AcidityOfWaterDegree1"></td>
                                    <td>
                                        <p onclick="ShowTablepH1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartpH1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["OrganicSubstances"]
                                    </td>
                                    <td id="YearOrganicSubstances1"></td>
                                    <td id="OrganicSubstances1"></td>
                                    <td></td>
                                    <td>
                                        <p onclick="ShowTableOrganicSubstances1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartOrganicSubstances1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h4 class="LakePart">@SharedLocalizer[LakePart.SaltyPart.ToString()]</h4>
                        <table class="LakePart table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Indicator"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Value"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["QualitativeAssessment"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Mineralization"]
                                    </td>
                                    <td id="YearMineralization2"></td>
                                    <td id="Mineralization2"></td>
                                    <td id="MineralizationType2"></td>
                                    <td>
                                        <p onclick="ShowTableMineralization2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartMineralization2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["TotalHardness"]
                                    </td>
                                    <td id="YearTotalHardness2"></td>
                                    <td id="TotalHardness2"></td>
                                    <td id="WaterHardness2"></td>
                                    <td>
                                        <p onclick="ShowTableTotalHardness2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartTotalHardness2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["DissOxygWater"]
                                    </td>
                                    <td id="YearDissOxygWater2"></td>
                                    <td id="DissOxygWater2"></td>
                                    <td id="DissolvedOxygenInWaterDegree2"></td>
                                    <td>
                                        <p onclick="ShowTableDissOxygWater2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartDissOxygWater2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["PercentOxygWater"]
                                    </td>
                                    <td id="YearPercentOxygWater2"></td>
                                    <td id="PercentOxygWater2"></td>
                                    <td></td>
                                    <td>
                                        <p onclick="ShowTablePercentOxygWater2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartPercentOxygWater2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["pH"]
                                    </td>
                                    <td id="YearpH2"></td>
                                    <td id="pH2"></td>
                                    <td id="AcidityOfWaterDegree2"></td>
                                    <td>
                                        <p onclick="ShowTablepH2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartpH2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["OrganicSubstances"]
                                    </td>
                                    <td id="YearOrganicSubstances2"></td>
                                    <td id="OrganicSubstances2"></td>
                                    <td></td>
                                    <td>
                                        <p onclick="ShowTableOrganicSubstances2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartOrganicSubstances2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        @* Tables, charts *@
                        <h4 class="FreshPart">@SharedLocalizer[LakePart.FreshPart.ToString()]</h4>
                        <table id="tableMineralization1" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Mineralization"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MineralizationType"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyMineralization1"></tbody>
                        </table>
                        <canvas id="chartMineralization1" class="GHI" width="400" height="200"></canvas>

                        <table id="tableTotalHardness1" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["TotalHardness"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["WaterHardness"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyTotalHardness1"></tbody>
                        </table>
                        <canvas id="chartTotalHardness1" class="GHI" width="400" height="200"></canvas>

                        <table id="tableDissOxygWater1" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["DissOxygWater"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["DissolvedOxygenInWaterDegree"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyDissOxygWater1"></tbody>
                        </table>
                        <canvas id="chartDissOxygWater1" class="GHI" width="400" height="200"></canvas>

                        <table id="tablePercentOxygWater1" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["PercentOxygWater"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyPercentOxygWater1"></tbody>
                        </table>
                        <canvas id="chartPercentOxygWater1" class="GHI" width="400" height="200"></canvas>

                        <table id="tablepH1" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["pH"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["AcidityOfWaterDegree"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodypH1"></tbody>
                        </table>
                        <canvas id="chartpH1" class="GHI" width="400" height="200"></canvas>

                        <table id="tableOrganicSubstances1" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["OrganicSubstances"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyOrganicSubstances1"></tbody>
                        </table>
                        <canvas id="chartOrganicSubstances1" class="GHI" width="400" height="200"></canvas>

                        <h4 class="SaltyPart">@SharedLocalizer[LakePart.SaltyPart.ToString()]</h4>

                        <table id="tableMineralization2" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Mineralization"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MineralizationType"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyMineralization2"></tbody>
                        </table>
                        <canvas id="chartMineralization2" class="GHI" width="400" height="200"></canvas>

                        <table id="tableTotalHardness2" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["TotalHardness"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["WaterHardness"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyTotalHardness2"></tbody>
                        </table>
                        <canvas id="chartTotalHardness2" class="GHI" width="400" height="200"></canvas>

                        <table id="tableDissOxygWater2" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["DissOxygWater"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["DissolvedOxygenInWaterDegree"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyDissOxygWater2"></tbody>
                        </table>
                        <canvas id="chartDissOxygWater2" class="GHI" width="400" height="200"></canvas>

                        <table id="tablePercentOxygWater2" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["PercentOxygWater"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyPercentOxygWater2"></tbody>
                        </table>
                        <canvas id="chartPercentOxygWater2" class="GHI" width="400" height="200"></canvas>

                        <table id="tablepH2" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["pH"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["AcidityOfWaterDegree"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodypH2"></tbody>
                        </table>
                        <canvas id="chartpH2" class="GHI" width="400" height="200"></canvas>

                        <table id="tableOrganicSubstances2" class="GHI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["OrganicSubstances"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyOrganicSubstances2"></tbody>
                        </table>
                        <canvas id="chartOrganicSubstances2" class="GHI" width="400" height="200"></canvas>
                    </section>
                    <section id="contentghi2">
                        <h3>@SharedLocalizer["IonsaltWaterCompositions"]</h3>
                        <h4 class="LakePart">@SharedLocalizer[LakePart.FreshPart.ToString()]</h4>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["IonName"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Value"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MeasurementUnit"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["AlekinWaterCompositionClass"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["KurlovFormula"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        Ca
                                    </td>
                                    <td id="YearCa1"></td>
                                    <td id="Ca1"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                    <td rowspan="2">
                                        <p id="AlekinWaterCompositionClass1"></p>
                                        <p onclick="ShowTableAlekinWaterCompositionClass1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                    </td>
                                    <td rowspan="2">
                                        <p id="KurlovFormula1"></p>
                                        <p onclick="ShowTableKurlovFormula1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Mg
                                    </td>
                                    <td id="YearMg1"></td>
                                    <td id="Mg1"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        NaK
                                    </td>
                                    <td id="YearNaK1"></td>
                                    <td id="NaK1"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Cl
                                    </td>
                                    <td id="YearCl1"></td>
                                    <td id="Cl1"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        HCO
                                    </td>
                                    <td id="YearHCO1"></td>
                                    <td id="HCO1"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        SO
                                    </td>
                                    <td id="YearSO1"></td>
                                    <td id="SO1"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h4 class="LakePart">@SharedLocalizer[LakePart.SaltyPart.ToString()]</h4>
                        <table class="table LakePart">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["IonName"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Value"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MeasurementUnit"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["AlekinWaterCompositionClass"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["KurlovFormula"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        Ca
                                    </td>
                                    <td id="YearCa2"></td>
                                    <td id="Ca2"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                    <td rowspan="2">
                                        <p id="AlekinWaterCompositionClass2"></p>
                                        <p onclick="ShowTableAlekinWaterCompositionClass2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                    </td>
                                    <td rowspan="2">
                                        <p id="KurlovFormula2"></p>
                                        <p onclick="ShowTableKurlovFormula2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Mg
                                    </td>
                                    <td id="YearMg2"></td>
                                    <td id="Mg2"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        NaK
                                    </td>
                                    <td id="YearNaK2"></td>
                                    <td id="NaK2"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Cl
                                    </td>
                                    <td id="YearCl2"></td>
                                    <td id="Cl2"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        HCO
                                    </td>
                                    <td id="YearHCO2"></td>
                                    <td id="HCO2"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        SO
                                    </td>
                                    <td id="YearSO2"></td>
                                    <td id="SO2"></td>
                                    <td id="IonUnit">
                                        @SharedLocalizer["IonUnit"]
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        @* Tables *@
                        <h4 class="FreshPart">@SharedLocalizer[LakePart.FreshPart.ToString()]</h4>
                        <table id="tableAlekinWaterCompositionClass1" class="IWC table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["CaMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MgMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NaKMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["ClMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["HCOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["SOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["AlekinWaterCompositionClass"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyAlekinWaterCompositionClass1"></tbody>
                        </table>
                        <table id="tableKurlovFormula1" class="IWC table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["CaMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MgMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NaKMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["ClMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["HCOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["SOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["KurlovFormula"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyKurlovFormula1"></tbody>
                        </table>

                        <h4 class="SaltyPart">@SharedLocalizer[LakePart.SaltyPart.ToString()]</h4>
                        <table id="tableAlekinWaterCompositionClass2" class="IWC table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["CaMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MgMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NaKMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["ClMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["HCOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["SOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["AlekinWaterCompositionClass"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyAlekinWaterCompositionClass2"></tbody>
                        </table>
                        <table id="tableKurlovFormula2" class="IWC table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["CaMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MgMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NaKMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["ClMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["HCOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["SOMg"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["KurlovFormula"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyKurlovFormula2"></tbody>
                        </table>
                    </section>
                    <section id="contentghi3">
                        <h3>@SharedLocalizer["ToxicologicalIndicators"]</h3>
                        <h4 class="LakePart">@SharedLocalizer[LakePart.FreshPart.ToString()]</h4>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Indicator"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Value"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MPCExceeding"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        @SharedLocalizer["NH4"]
                                    </td>
                                    <td id="YearNH41"></td>
                                    <td id="NH41"></td>
                                    <td id="IZVNH41"></td>
                                    <td>
                                        <p onclick="ShowTableNH41()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNH41()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["NO2"]
                                    </td>
                                    <td id="YearNO21"></td>
                                    <td id="NO21"></td>
                                    <td id="IZVNO21"></td>
                                    <td>
                                        <p onclick="ShowTableNO21()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNO21()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["NO3"]
                                    </td>
                                    <td id="YearNO31"></td>
                                    <td id="NO31"></td>
                                    <td id="IZVNO31"></td>
                                    <td>
                                        <p onclick="ShowTableNO31()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNO31()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["PPO4"]
                                    </td>
                                    <td id="YearPPO41"></td>
                                    <td id="PPO41"></td>
                                    <td id="IZVPPO41"></td>
                                    <td>
                                        <p onclick="ShowTablePPO41()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartPPO41()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Cu"]
                                    </td>
                                    <td id="YearCu1"></td>
                                    <td id="Cu1"></td>
                                    <td id="IZVCu1"></td>
                                    <td>
                                        <p onclick="ShowTableCu1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartCu1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Zn"]
                                    </td>
                                    <td id="YearZn1"></td>
                                    <td id="Zn1"></td>
                                    <td id="IZVZn1"></td>
                                    <td>
                                        <p onclick="ShowTableZn1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartZn1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Mn"]
                                    </td>
                                    <td id="YearMn1"></td>
                                    <td id="Mn1"></td>
                                    <td id="IZVMn1"></td>
                                    <td>
                                        <p onclick="ShowTableMn1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartMn1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Pb"]
                                    </td>
                                    <td id="YearPb1"></td>
                                    <td id="Pb1"></td>
                                    <td id="IZVPb1"></td>
                                    <td>
                                        <p onclick="ShowTablePb1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartPb1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Ni"]
                                    </td>
                                    <td id="YearNi1"></td>
                                    <td id="Ni1"></td>
                                    <td id="IZVNi1"></td>
                                    <td>
                                        <p onclick="ShowTableNi1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNi1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Cd"]
                                    </td>
                                    <td id="YearCd1"></td>
                                    <td id="Cd1"></td>
                                    <td id="IZVCd1"></td>
                                    <td>
                                        <p onclick="ShowTableCd1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartCd1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Co"]
                                    </td>
                                    <td id="YearCo1"></td>
                                    <td id="Co1"></td>
                                    <td id="IZVCo1"></td>
                                    <td>
                                        <p onclick="ShowTableCo1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartCo1()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h4 class="LakePart">@SharedLocalizer[LakePart.SaltyPart.ToString()]</h4>
                        <table class="LakePart table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Indicator"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Value"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["MPCExceeding"]
                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        @SharedLocalizer["NH4"]
                                    </td>
                                    <td id="YearNH42"></td>
                                    <td id="NH42"></td>
                                    <td id="IZVNH42"></td>
                                    <td>
                                        <p onclick="ShowTableNH42()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNH42()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["NO2"]
                                    </td>
                                    <td id="YearNO22"></td>
                                    <td id="NO22"></td>
                                    <td id="IZVNO22"></td>
                                    <td>
                                        <p onclick="ShowTableNO22()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNO22()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["NO3"]
                                    </td>
                                    <td id="YearNO32"></td>
                                    <td id="NO32"></td>
                                    <td id="IZVNO32"></td>
                                    <td>
                                        <p onclick="ShowTableNO32()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNO32()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["PPO4"]
                                    </td>
                                    <td id="YearPPO42"></td>
                                    <td id="PPO42"></td>
                                    <td id="IZVPPO42"></td>
                                    <td>
                                        <p onclick="ShowTablePPO42()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartPPO42()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Cu"]
                                    </td>
                                    <td id="YearCu2"></td>
                                    <td id="Cu2"></td>
                                    <td id="IZVCu2"></td>
                                    <td>
                                        <p onclick="ShowTableCu2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartCu2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Zn"]
                                    </td>
                                    <td id="YearZn2"></td>
                                    <td id="Zn2"></td>
                                    <td id="IZVZn2"></td>
                                    <td>
                                        <p onclick="ShowTableZn2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartZn2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Mn"]
                                    </td>
                                    <td id="YearMn2"></td>
                                    <td id="Mn2"></td>
                                    <td id="IZVMn2"></td>
                                    <td>
                                        <p onclick="ShowTableMn2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartMn2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Pb"]
                                    </td>
                                    <td id="YearPb2"></td>
                                    <td id="Pb2"></td>
                                    <td id="IZVPb2"></td>
                                    <td>
                                        <p onclick="ShowTablePb2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartPb2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Ni"]
                                    </td>
                                    <td id="YearNi2"></td>
                                    <td id="Ni2"></td>
                                    <td id="IZVNi2"></td>
                                    <td>
                                        <p onclick="ShowTableNi2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartNi2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Cd"]
                                    </td>
                                    <td id="YearCd2"></td>
                                    <td id="Cd2"></td>
                                    <td id="IZVCd2"></td>
                                    <td>
                                        <p onclick="ShowTableCd2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartCd2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        @SharedLocalizer["Co"]
                                    </td>
                                    <td id="YearCo2"></td>
                                    <td id="Co2"></td>
                                    <td id="IZVCo2"></td>
                                    <td>
                                        <p onclick="ShowTableCo2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Table"]
                                            </font>
                                        </p>
                                        <p onclick="ShowChartCo2()" class="link">
                                            <font size="2" color="blue">
                                                @SharedLocalizer["Chart"]
                                            </font>
                                        </p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        @* Tables, charts *@
                        <h4 class="FreshPart">@SharedLocalizer[LakePart.FreshPart.ToString()]</h4>

                        <table id="tableNH41" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NH4"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNH4"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNH41"></tbody>
                        </table>
                        <canvas id="chartNH41" class="TI" width="400" height="200"></canvas>

                        <table id="tableNO21" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NO2"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNO2"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNO21"></tbody>
                        </table>
                        <canvas id="chartNO21" class="TI" width="400" height="200"></canvas>

                        <table id="tableNO31" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NO3"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNO3"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNO31"></tbody>
                        </table>
                        <canvas id="chartNO31" class="TI" width="400" height="200"></canvas>

                        <table id="tablePPO41" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["PPO4"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVPPO4"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyPPO41"></tbody>
                        </table>
                        <canvas id="chartPPO41" class="TI" width="400" height="200"></canvas>

                        <table id="tableCu1" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Cu"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVCu"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyCu1"></tbody>
                        </table>
                        <canvas id="chartCu1" class="TI" width="400" height="200"></canvas>

                        <table id="tableZn1" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Zn"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVZn"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyZn1"></tbody>
                        </table>
                        <canvas id="chartZn1" class="TI" width="400" height="200"></canvas>

                        <table id="tableMn1" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Mn"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVMn"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyMn1"></tbody>
                        </table>
                        <canvas id="chartMn1" class="TI" width="400" height="200"></canvas>

                        <table id="tablePb1" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Pb"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVPb"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyPb1"></tbody>
                        </table>
                        <canvas id="chartPb1" class="TI" width="400" height="200"></canvas>

                        <table id="tableNi1" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Ni"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNi"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNi1"></tbody>
                        </table>
                        <canvas id="chartNi1" class="TI" width="400" height="200"></canvas>

                        <table id="tableCd1" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Cd"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVCd"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyCd1"></tbody>
                        </table>
                        <canvas id="chartCd1" class="TI" width="400" height="200"></canvas>

                        <table id="tableCo1" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Co"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVCo"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyCo1"></tbody>
                        </table>
                        <canvas id="chartCo1" class="TI" width="400" height="200"></canvas>

                        <h4 class="SaltyPart">@SharedLocalizer[LakePart.SaltyPart.ToString()]</h4>
                        
                        <table id="tableNH42" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NH4"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNH4"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNH42"></tbody>
                        </table>
                        <canvas id="chartNH42" class="TI" width="400" height="200"></canvas>

                        <table id="tableNO22" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NO2"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNO2"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNO22"></tbody>
                        </table>
                        <canvas id="chartNO22" class="TI" width="400" height="200"></canvas>

                        <table id="tableNO32" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["NO3"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNO3"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNO32"></tbody>
                        </table>
                        <canvas id="chartNO32" class="TI" width="400" height="200"></canvas>

                        <table id="tablePPO42" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["PPO4"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVPPO4"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyPPO42"></tbody>
                        </table>
                        <canvas id="chartPPO42" class="TI" width="400" height="200"></canvas>

                        <table id="tableCu2" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Cu"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVCu"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyCu2"></tbody>
                        </table>
                        <canvas id="chartCu2" class="TI" width="400" height="200"></canvas>

                        <table id="tableZn2" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Zn"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVZn"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyZn2"></tbody>
                        </table>
                        <canvas id="chartZn2" class="TI" width="400" height="200"></canvas>

                        <table id="tableMn2" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Mn"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVMn"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyMn2"></tbody>
                        </table>
                        <canvas id="chartMn2" class="TI" width="400" height="200"></canvas>

                        <table id="tablePb2" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Pb"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVPb"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyPb2"></tbody>
                        </table>
                        <canvas id="chartPb2" class="TI" width="400" height="200"></canvas>

                        <table id="tableNi2" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Ni"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVNi"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyNi2"></tbody>
                        </table>
                        <canvas id="chartNi2" class="TI" width="400" height="200"></canvas>

                        <table id="tableCd2" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Cd"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVCd"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyCd2"></tbody>
                        </table>
                        <canvas id="chartCd2" class="TI" width="400" height="200"></canvas>

                        <table id="tableCo2" class="TI table">
                            <thead>
                                <tr>
                                    <th>
                                        @SharedLocalizer["Year"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["Co"]
                                    </th>
                                    <th>
                                        @SharedLocalizer["IZVCo"]
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tablebodyCo2"></tbody>
                        </table>
                        <canvas id="chartCo2" class="TI" width="400" height="200"></canvas>
                    </section>
                </section>
                <section id="content4"></section>
            </div>
        </div>
    </div>
</div>
@* hidden *@
<div hidden="hidden">
    <input id="Year" type="hidden" value='@SharedLocalizer["Year"]' />
    <input id="WaterLevelWaterLavelM" type="hidden" value='@SharedLocalizer["WaterLavelM"]' />
    <input id="Value" type="hidden" value='@SharedLocalizer["Value"]' />
    <input id="LakeName" type="hidden" value='@ViewBag.LakeName' />
    <input id="ViewBagLakeId" type="hidden" value='@ViewBag.LakeId' />
    <input id="Found" type="hidden" value='@SharedLocalizer["Found"]' />
    <input id="Mineralization" type="hidden" value='@SharedLocalizer["Mineralization"]' />
    <input id="MineralizationType" type="hidden" value='@SharedLocalizer["MineralizationType"]' />
    <input id="TotalHardness" type="hidden" value='@SharedLocalizer["TotalHardness"]' />
    <input id="WaterHardness" type="hidden" value='@SharedLocalizer["WaterHardness"]' />
    <input id="DissOxygWater" type="hidden" value='@SharedLocalizer["DissOxygWater"]' />
    <input id="DissolvedOxygenInWaterDegree" type="hidden" value='@SharedLocalizer["DissolvedOxygenInWaterDegree"]' />
    <input id="PercentOxygWater" type="hidden" value='@SharedLocalizer["PercentOxygWater"]' />
    <input id="pH" type="hidden" value='@SharedLocalizer["pH"]' />
    <input id="AcidityOfWaterDegree" type="hidden" value='@SharedLocalizer["AcidityOfWaterDegree"]' />
    <input id="OrganicSubstances" type="hidden" value='@SharedLocalizer["OrganicSubstances"]' />
    <input id="NH4" type="hidden" value='@SharedLocalizer["NH4"]' />
    <input id="NO2" type="hidden" value='@SharedLocalizer["NO2"]' />
    <input id="NO3" type="hidden" value='@SharedLocalizer["NO3"]' />
    <input id="PPO4" type="hidden" value='@SharedLocalizer["PPO4"]' />
    <input id="Cu" type="hidden" value='@SharedLocalizer["Cu"]' />
    <input id="Zn" type="hidden" value='@SharedLocalizer["Zn"]' />
    <input id="Mn" type="hidden" value='@SharedLocalizer["Mn"]' />
    <input id="Pb" type="hidden" value='@SharedLocalizer["Pb"]' />
    <input id="Ni" type="hidden" value='@SharedLocalizer["Ni"]' />
    <input id="Cd" type="hidden" value='@SharedLocalizer["Cd"]' />
    <input id="Co" type="hidden" value='@SharedLocalizer["Co"]' />
</div>
<div id="map"></div>
@* map and layers *@
<script type="text/javascript">
    var layers = [];
    layers.push(new ol.layer.Tile({
        source: new ol.source.OSM()
    }));
    layers[0].set('name', 'OSM');

    var geoserverPort = '8080',
        geoserverAddress = window.location.hostname;

    var Source_Lakes = new ol.source.TileWMS({
        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?',
        params: {
            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
            'VERSION': '1.1.0',
            'FORMAT': 'image/png',
            'TILED': true
        },
        serverType: 'geoserver'
    });
    var Layer_Lakes = new ol.layer.Tile({
        source: Source_Lakes
    });
    Layer_Lakes.setOpacity(0.80);
    layers.push(Layer_Lakes);

    var Source_Lake = new ol.source.Vector({});
    var Layer_Lake = new ol.layer.Vector({
        source: Source_Lake,
        style: new ol.style.Style({
            fill: new ol.style.Fill({
                color: [0, 0, 255, 0]
            }),
            stroke: new ol.style.Stroke({
                color: 'red',
                width: 2
            })
        })
    });
    layers.push(Layer_Lake);

    var geoserverPort = '8080',
        //geoserverAddress = '82.200.146.116';
        //geoserverAddress = 'localhost';
        geoserverAddress = window.location.hostname;

    var map = new ol.Map({
        target: 'map',
        layers: layers,
        view: new ol.View({
            center: ol.proj.fromLonLat([69, 48]),
            zoom: 4,
            minZoom: 4,
            //extent: [6000000, 4856683, 9000000, 7540509]
            extent: [5917358, 5150581, 9579862, 7210174]
            //extent: [5061645, 4856683, 9834201, 7540509]
        })
    });

    $("#maindiv").LoadingOverlay("show");

    var Layer_Lakes_v = new ol.layer.Vector({});

    var url_Lakes = "http://" + geoserverAddress + ":" + geoserverPort + "/geoserver/ELake/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=ELake:Lakes&outputFormat=text/javascript&format_options=callback:getJson";
    //$('#TestText').val(url_Lakes);
    $.ajax({
        jsonp: false,
        jsonpCallback: 'getJson',
        type: 'GET',
        url: url_Lakes,
        async: false,
        dataType: 'jsonp',
        success: function (data_Lakes) {
            Layer_Lakes_v = new ol.layer.Vector({
                source: new ol.source.Vector({
                    features: (new ol.format.GeoJSON()).readFeatures(data_Lakes, {
                        featureProjection: 'EPSG:3857'
                    })
                })
            });
            @{
                string LakeId = ViewBag.LakeId?.ToString();
                if(string.IsNullOrEmpty(LakeId))
                {
                    LakeId = "0";
                }
            }
            $("#maindiv").LoadingOverlay("hide");
            SelectLakeZoom(@LakeId, true);
        },
        error: function () {
            $("#maindiv").LoadingOverlay("hide");
            //alert('error');
        }
    });
</script>
@* Select lake and zoom to *@
<script>
    function SelectLakeZoom(lakeId_, zoom) {
        var lakeId = parseInt(lakeId_);
        GetLakeInfo(lakeId);
        features = Layer_Lakes_v.getSource().getFeatures();
        for (i = 0; i < features.length; i++) {
            if (features[i].get('id') === lakeId) {
                var polyFeature = new ol.Feature({
                    geometry: new ol.geom.MultiPolygon(features[i].getGeometry().getCoordinates())
                });
                Source_Lake.clear();
                Source_Lake.addFeature(features[i]);
                if (zoom) {
                    map.getView().fit(Layer_Lakes_v.getSource().getExtent(), { duration: 1500 });
                    setTimeout(ZoomToFeature, 1500, polyFeature);
                }
            }
        }
    }

    function ZoomToFeature(polyFeature) {
        var extent = polyFeature.getGeometry().getExtent();
        map.getView().fit(extent, {
            duration: 1500
        });
    }

    function GetLakeGroup() {
        var lakeId_ = $('#LakeId').val();
        if ((lakeId_ != null) && (lakeId_ != '') && (lakeId_[lakeId_.length - 1] != '0')) {
            $.ajax({
                url: '@Url.Action("GetLakeGroup")',
                data: {
                    LakeId: lakeId_
                },
                type: 'POST',
                success: function (data) {
                    var $dropdown = $("#LakeGroup");
                    if (data.lakes.length > 0) {
                        $dropdown.show();
                    }
                    else {
                        $dropdown.hide();
                    }
                    $dropdown.find('option')
                        .remove();
                    $.each(data.lakes, function () {
                        $dropdown.append($("<option />").val(this.lakeId).text(this.name));
                    });
                },
                error: function () {
                }
            });
        }
        else {
            $("#LakeGroup").hide();
        }
    }
</script>
@* Get lake info *@
<script>
    var chartColorGHIMineralization = 'rgba(255,99,132,1)',
        chartColorGHITotalHardness = 'rgba(99,255,132,1)',
        chartColorGHIDissOxygWater = 'rgba(36,85,200,1)',
        chartColorGHIPercentOxygWater = 'rgba(243,99,73,1)',
        chartColorGHIpH = 'rgba(67,149,250,1)',
        chartColorGHIOrganicSubstances = 'rgba(255,128,255,1)',
        chartColorTINH4 = 'rgba(255,99,132,1)',
        chartColorTINO2 = 'rgba(255,99,132,1)',
        chartColorTINO3 = 'rgba(255,99,132,1)',
        chartColorTIPPO4 = 'rgba(255,99,132,1)',
        chartColorTICu = 'rgba(255,99,132,1)',
        chartColorTIZn = 'rgba(255,99,132,1)',
        chartColorTIMn = 'rgba(255,99,132,1)',
        chartColorTIPb = 'rgba(255,99,132,1)',
        chartColorTINi = 'rgba(255,99,132,1)',
        chartColorTICd = 'rgba(255,99,132,1)',
        chartColorTICo = 'rgba(255,99,132,1)';
    var twoparts = false;

    function GetLakeInfo(LakeId) {
        $.ajax({
            url: '@Url.Action("GetLakeInfo")',
            data: { LakeId: LakeId },
            type: 'POST',
            success: function (data) {
                // Основная информация об озере
                $('#Name').text(data.name);
                if (LakeId != 0) {
                    $('#LakeIdInfo').html(LakeId);
                }
                $('#Adm1').text(data.adm1);
                $('#Adm2').text(data.adm2);
                $('#Longitude').text(data.longitude);
                $('#Latitude').text(data.latitude);
                $('#Adm3').text(data.adm3);
                if (data.twoparts) {
                    $('.LakePart').show();
                    twoparts = true;
                }
                else {
                    $('.LakePart').hide();
                    twoparts = false;
                }
                $('.FreshPart').hide();
                $('.SaltyPart').hide();
                // Общие гидрохимические показатели
                if (data.ghitable1 != null) {
                    for (i = 0; i < data.ghitable1.length; i++) {
                        if (data.ghitable1[i].mineralization != null) {
                            $('#YearMineralization1').text(data.ghitable1[i].year);
                            $('#Mineralization1').text(data.ghitable1[i].mineralization);
                            $('#MineralizationType1').text(data.ghitable1[i].mineralizationType);
                        }
                        if (data.ghitable1[i].totalHardness != null) {
                            $('#YearTotalHardness1').text(data.ghitable1[i].year);
                            $('#TotalHardness1').text(data.ghitable1[i].totalHardness);
                            $('#WaterHardness1').text(data.ghitable1[i].waterHardness);
                        }
                        if (data.ghitable1[i].dissOxygWater != null) {
                            $('#YearDissOxygWater1').text(data.ghitable1[i].year);
                            $('#DissOxygWater1').text(data.ghitable1[i].dissOxygWater);
                            $('#DissolvedOxygenInWaterDegree1').text(data.ghitable1[i].dissolvedOxygenInWaterDegree);
                        }
                        if (data.ghitable1[i].percentOxygWater != null) {
                            $('#YearPercentOxygWater1').text(data.ghitable1[i].year);
                            $('#PercentOxygWater1').text(data.ghitable1[i].percentOxygWater);
                        }
                        if (data.ghitable1[i].pH != null) {
                            $('#YearpH1').text(data.ghitable1[i].year);
                            $('#pH1').text(data.ghitable1[i].pH);
                            $('#AcidityOfWaterDegree1').text(data.ghitable1[i].acidityOfWaterDegree);
                        }
                        if (data.ghitable1[i].organicSubstances != null) {
                            $('#YearOrganicSubstances1').text(data.ghitable1[i].year);
                            $('#OrganicSubstances1').text(data.ghitable1[i].organicSubstances);
                        }
                    }
                }
                if (data.ghitable2 != null) {
                    for (i = 0; i < data.ghitable2.length; i++) {
                        if (data.ghitable2[i].mineralization != null) {
                            $('#YearMineralization2').text(data.ghitable2[i].year);
                            $('#Mineralization2').text(data.ghitable2[i].mineralization);
                            $('#MineralizationType2').text(data.ghitable2[i].mineralizationType);
                        }
                        if (data.ghitable2[i].totalHardness != null) {
                            $('#YearTotalHardness2').text(data.ghitable2[i].year);
                            $('#TotalHardness2').text(data.ghitable2[i].totalHardness);
                            $('#WaterHardness2').text(data.ghitable2[i].waterHardness);
                        }
                        if (data.ghitable2[i].dissOxygWater != null) {
                            $('#YearDissOxygWater2').text(data.ghitable2[i].year);
                            $('#DissOxygWater2').text(data.ghitable2[i].dissOxygWater);
                            $('#DissolvedOxygenInWaterDegree2').text(data.ghitable2[i].dissolvedOxygenInWaterDegree);
                        }
                        if (data.ghitable2[i].percentOxygWater != null) {
                            $('#YearPercentOxygWater2').text(data.ghitable2[i].year);
                            $('#PercentOxygWater2').text(data.ghitable2[i].percentOxygWater);
                            $('#WaterHardness2').text(data.ghitable2[i].waterHardness);
                        }
                        if (data.ghitable2[i].pH != null) {
                            $('#YearpH2').text(data.ghitable2[i].year);
                            $('#pH2').text(data.ghitable2[i].pH);
                            $('#AcidityOfWaterDegree2').text(data.ghitable2[i].acidityOfWaterDegree);
                        }
                        if (data.ghitable2[i].organicSubstances != null) {
                            $('#YearOrganicSubstances2').text(data.ghitable2[i].year);
                            $('#OrganicSubstances2').text(data.ghitable2[i].organicSubstances);
                        }
                    }
                }
                TableMineralization(data);
                ChartMineralization(data);
                TableTotalHardness(data);
                ChartTotalHardness(data);
                TableDissOxygWater(data);
                ChartDissOxygWater(data);
                TablePercentOxygWater(data);
                TableOrganicSubstances(data);
                ChartOrganicSubstances(data);
                TablepH(data);
                ChartpH(data);
                // Ионно-солевой состав воды
                if (data.iwctable1 != null) {
                    for (i = 0; i < data.iwctable1.length; i++) {
                        if (data.iwctable1[i].caMg != null) {
                            $('#YearCa1').text(data.iwctable1[i].year);
                            $('#Ca1').text((data.iwctable1[i].caMg ? data.iwctable1[i].caMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].caPerEq ? data.iwctable1[i].caPerEq.toFixed(2) : null));
                            $('#AlekinWaterCompositionClass1').text(data.iwctable1[i].alekinWaterCompositionClass);
                            $('#KurlovFormula1').text(data.iwctable1[i].kurlovFormula);
                        }
                        if (data.iwctable1[i].mgMg != null) {
                            $('#YearMg1').text(data.iwctable1[i].year);
                            $('#Mg1').text((data.iwctable1[i].mgMg ? data.iwctable1[i].mgMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].mgPerEq ? data.iwctable1[i].mgPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].naKMg != null) {
                            $('#YearNaK1').text(data.iwctable1[i].year);
                            $('#NaK1').text((data.iwctable1[i].naKMg ? data.iwctable1[i].naKMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].naKPerEq ? data.iwctable1[i].naKPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].clMg != null) {
                            $('#YearCl1').text(data.iwctable1[i].year);
                            $('#Cl1').text((data.iwctable1[i].clMg ? data.iwctable1[i].clMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].clPerEq ? data.iwctable1[i].clPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].hcoMg != null) {
                            $('#YearHCO1').text(data.iwctable1[i].year);
                            $('#HCO1').text((data.iwctable1[i].hcoMg ? data.iwctable1[i].hcoMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].hcoPerEq ? data.iwctable1[i].hcoPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable1[i].soMg != null) {
                            $('#YearSO1').text(data.iwctable1[i].year);
                            $('#SO1').text((data.iwctable1[i].soMg ? data.iwctable1[i].soMg.toFixed(2) : null) + ' / ' + (data.iwctable1[i].soPerEq ? data.iwctable1[i].soPerEq.toFixed(2) : null));
                        }
                    }
                }
                if (data.iwctable2 != null) {
                    for (i = 0; i < data.iwctable2.length; i++) {
                        if (data.iwctable2[i].caMg != null) {
                            $('#YearCa2').text(data.iwctable2[i].year);
                            $('#Ca2').text((data.iwctable2[i].caMg ? data.iwctable2[i].caMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].caPerEq ? data.iwctable2[i].caPerEq.toFixed(2) : null));
                            $('#AlekinWaterCompositionClass2').text(data.iwctable2[i].alekinWaterCompositionClass);
                            $('#KurlovFormula2').text(data.iwctable2[i].kurlovFormula);
                        }
                        if (data.iwctable2[i].mgMg != null) {
                            $('#YearMg2').text(data.iwctable2[i].year);
                            $('#Mg2').text((data.iwctable2[i].mgMg ? data.iwctable2[i].mgMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].mgPerEq ? data.iwctable2[i].mgPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].naKMg != null) {
                            $('#YearNaK2').text(data.iwctable2[i].year);
                            $('#NaK2').text((data.iwctable2[i].naKMg ? data.iwctable2[i].naKMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].naKPerEq ? data.iwctable2[i].naKPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].clMg != null) {
                            $('#YearCl2').text(data.iwctable2[i].year);
                            $('#Cl2').text((data.iwctable2[i].clMg ? data.iwctable2[i].clMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].clPerEq ? data.iwctable2[i].clPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].hcoMg != null) {
                            $('#YearHCO2').text(data.iwctable2[i].year);
                            $('#HCO2').text((data.iwctable2[i].hcoMg ? data.iwctable2[i].hcoMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].hcoPerEq ? data.iwctable2[i].hcoPerEq.toFixed(2) : null));
                        }
                        if (data.iwctable2[i].soMg != null) {
                            $('#YearSO2').text(data.iwctable2[i].year);
                            $('#SO2').text((data.iwctable2[i].soMg ? data.iwctable2[i].soMg.toFixed(2) : null) + ' / ' + (data.iwctable2[i].soPerEq ? data.iwctable2[i].soPerEq.toFixed(2) : null));
                        }
                    }
                }
                TableKurlovFormula(data);
                TableAlekinWaterCompositionClass(data);
                // Токсикологические показатели
                if (data.titable1 != null) {
                    for (i = 0; i < data.titable1.length; i++) {
                        if (data.titable1[i].nH4 != null) {
                            $('#YearNH41').text(data.titable1[i].year);
                            $('#NH41').text(data.titable1[i].nH4);
                            $('#IZVNH41').text((data.titable1[i].izvnH4 ? data.titable1[i].izvnH4.toFixed(2) : null));
                        }
                        if (data.titable1[i].nO2 != null) {
                            $('#YearNO21').text(data.titable1[i].year);
                            $('#NO21').text(data.titable1[i].nO2);
                            $('#IZVNO21').text((data.titable1[i].izvnO2 ? data.titable1[i].izvnO2.toFixed(2) : null));
                        }
                        if (data.titable1[i].nO3 != null) {
                            $('#YearNO31').text(data.titable1[i].year);
                            $('#NO31').text(data.titable1[i].nO3);
                            $('#IZVNO31').text((data.titable1[i].izvnO3 ? data.titable1[i].izvnO3.toFixed(2) : null));
                        }
                        if (data.titable1[i].ppO4 != null) {
                            $('#YearPPO41').text(data.titable1[i].year);
                            $('#PPO41').text(data.titable1[i].ppO4);
                            $('#IZVPPO41').text((data.titable1[i].izvppO4 ? data.titable1[i].izvppO4.toFixed(2) : null));
                        }
                        if (data.titable1[i].cu != null) {
                            $('#YearCu1').text(data.titable1[i].year);
                            $('#Cu1').text(data.titable1[i].cu);
                            $('#IZVCu1').text((data.titable1[i].izvCu ? data.titable1[i].izvCu.toFixed(2) : null));
                        }
                        if (data.titable1[i].zn != null) {
                            $('#YearZn1').text(data.titable1[i].year);
                            $('#Zn1').text(data.titable1[i].zn);
                            $('#IZVZn1').text((data.titable1[i].izvZn ? data.titable1[i].izvZn.toFixed(2) : null));
                        }
                        if (data.titable1[i].mn != null) {
                            $('#YearMn1').text(data.titable1[i].year);
                            $('#Mn1').text(data.titable1[i].mn);
                            $('#IZVMn1').text((data.titable1[i].izvMn ? data.titable1[i].izvMn.toFixed(2) : null));
                        }
                        if (data.titable1[i].pb != null) {
                            $('#YearPb1').text(data.titable1[i].year);
                            $('#Pb1').text(data.titable1[i].pb);
                            $('#IZVPb1').text((data.titable1[i].izvPb ? data.titable1[i].izvPb.toFixed(2) : null));
                        }
                        if (data.titable1[i].ni != null) {
                            $('#YearNi1').text(data.titable1[i].year);
                            $('#Ni1').text(data.titable1[i].ni);
                            $('#IZVNi1').text((data.titable1[i].izvNi ? data.titable1[i].izvNi.toFixed(2) : null));
                        }
                        if (data.titable1[i].cd != null) {
                            $('#YearCd1').text(data.titable1[i].year);
                            $('#Cd1').text(data.titable1[i].cd);
                            $('#IZVCd1').text((data.titable1[i].izvCd ? data.titable1[i].izvCd.toFixed(2) : null));
                        }
                        if (data.titable1[i].co != null) {
                            $('#YearCo1').text(data.titable1[i].year);
                            $('#Co1').text(data.titable1[i].co);
                            $('#IZVCo1').text((data.titable1[i].izvCo ? data.titable1[i].izvCo.toFixed(2) : null));
                        }
                    }
                }
                if (data.titable2 != null) {
                    for (i = 0; i < data.titable2.length; i++) {
                        if (data.titable2[i].nH4 != null) {
                            $('#YearNH42').text(data.titable2[i].year);
                            $('#NH42').text(data.titable2[i].nH4);
                            $('#IZVNH42').text((data.titable2[i].izvnH4 ? data.titable2[i].izvnH4.toFixed(2) : null));
                        }
                        if (data.titable2[i].nO2 != null) {
                            $('#YearNO22').text(data.titable2[i].year);
                            $('#NO22').text(data.titable2[i].nO2);
                            $('#IZVNO22').text((data.titable2[i].izvnO2 ? data.titable2[i].izvnO2.toFixed(2) : null));
                        }
                        if (data.titable2[i].nO3 != null) {
                            $('#YearNO32').text(data.titable2[i].year);
                            $('#NO32').text(data.titable2[i].nO3);
                            $('#IZVNO32').text((data.titable2[i].izvnO3 ? data.titable2[i].izvnO3.toFixed(2) : null));
                        }
                        if (data.titable2[i].ppO4 != null) {
                            $('#YearPPO42').text(data.titable2[i].year);
                            $('#PPO42').text(data.titable2[i].ppO4);
                            $('#IZVPPO42').text((data.titable2[i].izvppO4 ? data.titable2[i].izvppO4.toFixed(2) : null));
                        }
                        if (data.titable2[i].cu != null) {
                            $('#YearCu2').text(data.titable2[i].year);
                            $('#Cu2').text(data.titable2[i].cu);
                            $('#IZVCu2').text((data.titable2[i].izvCu ? data.titable2[i].izvCu.toFixed(2) : null));
                        }
                        if (data.titable2[i].zn != null) {
                            $('#YearZn2').text(data.titable2[i].year);
                            $('#Zn2').text(data.titable2[i].zn);
                            $('#IZVZn2').text((data.titable2[i].izvZn ? data.titable2[i].izvZn.toFixed(2) : null));
                        }
                        if (data.titable2[i].mn != null) {
                            $('#YearMn2').text(data.titable2[i].year);
                            $('#Mn2').text(data.titable2[i].mn);
                            $('#IZVMn2').text((data.titable2[i].izvMn ? data.titable2[i].izvMn.toFixed(2) : null));
                        }
                        if (data.titable2[i].pb != null) {
                            $('#YearPb2').text(data.titable2[i].year);
                            $('#Pb2').text(data.titable2[i].pb);
                            $('#IZVPb2').text((data.titable2[i].izvPb ? data.titable2[i].izvPb.toFixed(2) : null));
                        }
                        if (data.titable2[i].ni != null) {
                            $('#YearNi2').text(data.titable2[i].year);
                            $('#Ni2').text(data.titable2[i].ni);
                            $('#IZVNi2').text((data.titable2[i].izvNi ? data.titable2[i].izvNi.toFixed(2) : null));
                        }
                        if (data.titable2[i].cd != null) {
                            $('#YearCd2').text(data.titable2[i].year);
                            $('#Cd2').text(data.titable2[i].cd);
                            $('#IZVCd2').text((data.titable2[i].izvCd ? data.titable2[i].izvCd.toFixed(2) : null));
                        }
                        if (data.titable2[i].co != null) {
                            $('#YearCo2').text(data.titable2[i].year);
                            $('#Co2').text(data.titable2[i].co);
                            $('#IZVCo2').text((data.titable2[i].izvCo ? data.titable2[i].izvCo.toFixed(2) : null));
                        }
                    }
                }
                TableNH4(data);
                ChartNH4(data);
                TableNO2(data);
                ChartNO2(data);
                TableNO3(data);
                ChartNO3(data);
                TablePPO4(data);
                ChartPPO4(data);
                TableCu(data);
                ChartCu(data);
                TableZn(data);
                ChartZn(data);
                TableMn(data);
                ChartMn(data);
                TablePb(data);
                ChartPb(data);
                TableNi(data);
                ChartNi(data);
                TableCd(data);
                ChartCd(data);
                TableCo(data);
                ChartCo(data);
            },
            error: function () {
            }
        });
    }

    function TableMineralization(data) {
        var tablebody1 = $('#tablebodyMineralization1'),
            tablebody2 = $('#tablebodyMineralization2');
        tablebody1.html('');
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].mineralization != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.ghitable1[i].year + '</td>');
                    tr.append('<td>' + data.ghitable1[i].mineralization + '</td>');
                    tr.append('<td>' + data.ghitable1[i].mineralizationType + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.ghitable2 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].mineralization != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.ghitable2[i].year + '</td>');
                    tr.append('<td>' + data.ghitable2[i].mineralization + '</td>');
                    tr.append('<td>' + data.ghitable2[i].mineralizationType + '</td>');
                }
            }
        }
        $('.GHI').hide();
    }

    var ChartMineralization1 = null,
        ChartMineralization2 = null;
    function ChartMineralization(data) {
        if (ChartMineralization1 != null) {
            ChartMineralization1.destroy();
        }
        var ctx1 = document.getElementById("chartMineralization1").getContext('2d');
        var data1 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].mineralization != null) {
                    data1.push({
                        'x': data.ghitable1[i].year,
                        'y': data.ghitable1[i].mineralization
                    });
                }
            }
        }
        ChartMineralization1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Mineralization').val(),
                    data: data1,
                    backgroundColor: chartColorGHIMineralization,
                    borderColor: chartColorGHIMineralization,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Mineralization').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartMineralization2 != null) {
            ChartMineralization2.destroy();
        }
        var ctx2 = document.getElementById("chartMineralization2").getContext('2d');
        var data2 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].mineralization != null) {
                    data2.push({
                        'x': data.ghitable2[i].year,
                        'y': data.ghitable2[i].mineralization
                    });
                }
            }
        }
        ChartMineralization2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Mineralization').val(),
                    data: data2,
                    backgroundColor: chartColorGHIMineralization,
                    borderColor: chartColorGHIMineralization,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Mineralization').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableTotalHardness(data) {
        var tablebody1 = $('#tablebodyTotalHardness1'),
            tablebody2 = $('#tablebodyTotalHardness2');
        tablebody1.html('');
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].totalHardness != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.ghitable1[i].year + '</td>');
                    tr.append('<td>' + data.ghitable1[i].totalHardness + '</td>');
                    tr.append('<td>' + data.ghitable1[i].waterHardness + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.ghitable2 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].totalHardness != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.ghitable2[i].year + '</td>');
                    tr.append('<td>' + data.ghitable2[i].totalHardness + '</td>');
                    tr.append('<td>' + data.ghitable2[i].waterHardness + '</td>');
                }
            }
        }
        $('.GHI').hide();
    }

    var ChartTotalHardness1 = null,
        ChartTotalHardness2 = null;
    function ChartTotalHardness(data) {
        if (ChartTotalHardness1 != null) {
            ChartTotalHardness1.destroy();
        }
        var ctx1 = document.getElementById("chartTotalHardness1").getContext('2d');
        var data1 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].totalHardness != null) {
                    data1.push({
                        'x': data.ghitable1[i].year,
                        'y': data.ghitable1[i].totalHardness
                    });
                }
            }
        }
        ChartTotalHardness1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#TotalHardness').val(),
                    data: data1,
                    backgroundColor: chartColorGHITotalHardness,
                    borderColor: chartColorGHITotalHardness,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#TotalHardness').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartTotalHardness2 != null) {
            ChartTotalHardness2.destroy();
        }
        var ctx2 = document.getElementById("chartTotalHardness2").getContext('2d');
        var data2 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].totalHardness != null) {
                    data2.push({
                        'x': data.ghitable2[i].year,
                        'y': data.ghitable2[i].totalHardness
                    });
                }
            }
        }
        ChartTotalHardness2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#TotalHardness').val(),
                    data: data2,
                    backgroundColor: chartColorGHITotalHardness,
                    borderColor: chartColorGHITotalHardness,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#TotalHardness').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableDissOxygWater(data) {
        var tablebody1 = $('#tablebodyDissOxygWater1'),
            tablebody2 = $('#tablebodyDissOxygWater2');
        tablebody1.html('');
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].dissOxygWater != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.ghitable1[i].year + '</td>');
                    tr.append('<td>' + data.ghitable1[i].dissOxygWater + '</td>');
                    tr.append('<td>' + data.ghitable1[i].dissolvedOxygenInWaterDegree + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.ghitable2 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].dissOxygWater != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.ghitable2[i].year + '</td>');
                    tr.append('<td>' + data.ghitable2[i].dissOxygWater + '</td>');
                    tr.append('<td>' + data.ghitable2[i].dissolvedOxygenInWaterDegree + '</td>');
                }
            }
        }
        $('.GHI').hide();
    }

    var ChartDissOxygWater1 = null,
        ChartDissOxygWater2 = null;
    function ChartDissOxygWater(data) {
        if (ChartDissOxygWater1 != null) {
            ChartDissOxygWater1.destroy();
        }
        var ctx1 = document.getElementById("chartDissOxygWater1").getContext('2d');
        var data1 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].dissOxygWater != null) {
                    data1.push({
                        'x': data.ghitable1[i].year,
                        'y': data.ghitable1[i].dissOxygWater
                    });
                }
            }
        }
        ChartDissOxygWater1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#DissOxygWater').val(),
                    data: data1,
                    backgroundColor: chartColorGHIDissOxygWater,
                    borderColor: chartColorGHIDissOxygWater,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#DissOxygWater').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartDissOxygWater2 != null) {
            ChartDissOxygWater2.destroy();
        }
        var ctx2 = document.getElementById("chartDissOxygWater2").getContext('2d');
        var data2 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].dissOxygWater != null) {
                    data2.push({
                        'x': data.ghitable2[i].year,
                        'y': data.ghitable2[i].dissOxygWater
                    });
                }
            }
        }
        ChartDissOxygWater2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#DissOxygWater').val(),
                    data: data2,
                    backgroundColor: chartColorGHIDissOxygWater,
                    borderColor: chartColorGHIDissOxygWater,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#DissOxygWater').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TablePercentOxygWater(data) {
        var tablebody1 = $('#tablebodyPercentOxygWater1'),
            tablebody2 = $('#tablebodyPercentOxygWater2');
        tablebody1.html('');
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].percentOxygWater != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.ghitable1[i].year + '</td>');
                    tr.append('<td>' + data.ghitable1[i].percentOxygWater + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.ghitable2 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].percentOxygWater != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.ghitable2[i].year + '</td>');
                    tr.append('<td>' + data.ghitable2[i].percentOxygWater + '</td>');
                }
            }
        }
        $('.GHI').hide();
    }

    var ChartPercentOxygWater1 = null,
        ChartPercentOxygWater2 = null;
    function ChartPercentOxygWater(data) {
        if (ChartPercentOxygWater1 != null) {
            ChartPercentOxygWater1.destroy();
        }
        var ctx1 = document.getElementById("chartPercentOxygWater1").getContext('2d');
        var data1 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].percentOxygWater != null) {
                    data1.push({
                        'x': data.ghitable1[i].year,
                        'y': data.ghitable1[i].percentOxygWater
                    });
                }
            }
        }
        ChartPercentOxygWater1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#PercentOxygWater').val(),
                    data: data1,
                    backgroundColor: chartColorGHIPercentOxygWater,
                    borderColor: chartColorGHIPercentOxygWater,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#PercentOxygWater').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartPercentOxygWater2 != null) {
            ChartPercentOxygWater2.destroy();
        }
        var ctx2 = document.getElementById("chartPercentOxygWater2").getContext('2d');
        var data2 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].percentOxygWater != null) {
                    data2.push({
                        'x': data.ghitable2[i].year,
                        'y': data.ghitable2[i].percentOxygWater
                    });
                }
            }
        }
        ChartPercentOxygWater2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#PercentOxygWater').val(),
                    data: data2,
                    backgroundColor: chartColorGHIPercentOxygWater,
                    borderColor: chartColorGHIPercentOxygWater,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#PercentOxygWater').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TablepH(data) {
        var tablebody1 = $('#tablebodypH1'),
            tablebody2 = $('#tablebodypH2');
        tablebody1.html('');
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].pH != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.ghitable1[i].year + '</td>');
                    tr.append('<td>' + data.ghitable1[i].pH + '</td>');
                    tr.append('<td>' + data.ghitable1[i].acidityOfWaterDegree + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.ghitable2 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].pH != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.ghitable2[i].year + '</td>');
                    tr.append('<td>' + data.ghitable2[i].pH + '</td>');
                    tr.append('<td>' + data.ghitable2[i].acidityOfWaterDegree + '</td>');
                }
            }
        }
        $('.GHI').hide();
    }

    var ChartpH1 = null,
        ChartpH2 = null;
    function ChartpH(data) {
        if (ChartpH1 != null) {
            ChartpH1.destroy();
        }
        var ctx1 = document.getElementById("chartpH1").getContext('2d');
        var data1 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].pH != null) {
                    data1.push({
                        'x': data.ghitable1[i].year,
                        'y': data.ghitable1[i].pH
                    });
                }
            }
        }
        ChartpH1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#pH').val(),
                    data: data1,
                    backgroundColor: chartColorGHIpH,
                    borderColor: chartColorGHIpH,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#pH').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartpH2 != null) {
            ChartpH2.destroy();
        }
        var ctx2 = document.getElementById("chartpH2").getContext('2d');
        var data2 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].pH != null) {
                    data2.push({
                        'x': data.ghitable2[i].year,
                        'y': data.ghitable2[i].pH
                    });
                }
            }
        }
        ChartpH2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#pH').val(),
                    data: data2,
                    backgroundColor: chartColorGHIpH,
                    borderColor: chartColorGHIpH,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#pH').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableOrganicSubstances(data) {
        var tablebody1 = $('#tablebodyOrganicSubstances1'),
            tablebody2 = $('#tablebodyOrganicSubstances2');
        tablebody1.html('');
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].organicSubstances != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.ghitable1[i].year + '</td>');
                    tr.append('<td>' + data.ghitable1[i].organicSubstances + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.ghitable2 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].organicSubstances != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.ghitable2[i].year + '</td>');
                    tr.append('<td>' + data.ghitable2[i].organicSubstances + '</td>');
                }
            }
        }
        $('.GHI').hide();
    }

    var ChartOrganicSubstances1 = null,
        ChartOrganicSubstances2 = null;
    function ChartOrganicSubstances(data) {
        if (ChartOrganicSubstances1 != null) {
            ChartOrganicSubstances1.destroy();
        }
        var ctx1 = document.getElementById("chartOrganicSubstances1").getContext('2d');
        var data1 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable1.length; i++) {
                if (data.ghitable1[i].organicSubstances != null) {
                    data1.push({
                        'x': data.ghitable1[i].year,
                        'y': data.ghitable1[i].organicSubstances
                    });
                }
            }
        }
        ChartOrganicSubstances1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#OrganicSubstances').val(),
                    data: data1,
                    backgroundColor: chartColorGHIOrganicSubstances,
                    borderColor: chartColorGHIOrganicSubstances,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#OrganicSubstances').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartOrganicSubstances2 != null) {
            ChartOrganicSubstances2.destroy();
        }
        var ctx2 = document.getElementById("chartOrganicSubstances2").getContext('2d');
        var data2 = [];
        if (data.ghitable1 != null) {
            for (var i = 0; i < data.ghitable2.length; i++) {
                if (data.ghitable2[i].organicSubstances != null) {
                    data2.push({
                        'x': data.ghitable2[i].year,
                        'y': data.ghitable2[i].organicSubstances
                    });
                }
            }
        }
        ChartOrganicSubstances2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#OrganicSubstances').val(),
                    data: data2,
                    backgroundColor: chartColorGHIOrganicSubstances,
                    borderColor: chartColorGHIOrganicSubstances,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#OrganicSubstances').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableAlekinWaterCompositionClass(data) {
        var tablebody1 = $('#tablebodyAlekinWaterCompositionClass1'),
            tablebody2 = $('#tablebodyAlekinWaterCompositionClass2');
        tablebody1.html('');
        if (data.iwctable1 != null) {
            for (var i = 0; i < data.iwctable1.length; i++) {
                if (data.iwctable1[i].caMg != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.iwctable1[i].year + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].caMg ? data.iwctable1[i].caMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].mgMg ? data.iwctable1[i].mgMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].naKMg ? data.iwctable1[i].naKMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].clMg ? data.iwctable1[i].clMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].hcoMg ? data.iwctable1[i].hcoMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].soMg ? data.iwctable1[i].soMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + data.iwctable1[i].alekinWaterCompositionClass + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.iwctable2 != null) {
            for (var i = 0; i < data.iwctable2.length; i++) {
                if (data.iwctable2[i].caMg != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.iwctable2[i].year + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].caMg ? data.iwctable1[i].caMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].mgMg ? data.iwctable1[i].mgMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].naKMg ? data.iwctable1[i].naKMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].clMg ? data.iwctable1[i].clMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].hcoMg ? data.iwctable1[i].hcoMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].soMg ? data.iwctable1[i].soMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + data.iwctable2[i].alekinWaterCompositionClass + '</td>');
                }
            }
        }
        $('.IWC').hide();
    }

    function TableKurlovFormula(data) {
        var tablebody1 = $('#tablebodyKurlovFormula1'),
            tablebody2 = $('#tablebodyKurlovFormula2');
        tablebody1.html('');
        if (data.iwctable1 != null) {
            for (var i = 0; i < data.iwctable1.length; i++) {
                if (data.iwctable1[i].caMg != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.iwctable1[i].year + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].caMg ? data.iwctable1[i].caMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].mgMg ? data.iwctable1[i].mgMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].naKMg ? data.iwctable1[i].naKMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].clMg ? data.iwctable1[i].clMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].hcoMg ? data.iwctable1[i].hcoMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].soMg ? data.iwctable1[i].soMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + data.iwctable1[i].kurlovFormula + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.iwctable2 != null) {
            for (var i = 0; i < data.iwctable2.length; i++) {
                if (data.iwctable2[i].caMg != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.iwctable2[i].year + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].caMg ? data.iwctable1[i].caMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].mgMg ? data.iwctable1[i].mgMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].naKMg ? data.iwctable1[i].naKMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].clMg ? data.iwctable1[i].clMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].hcoMg ? data.iwctable1[i].hcoMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + (data.iwctable1[i].soMg ? data.iwctable1[i].soMg.toFixed(2) : null) + '</td>');
                    tr.append('<td>' + data.iwctable2[i].kurlovFormula + '</td>');
                }
            }
        }
        $('.IWC').hide();
    }

    function TableNH4(data) {
        var tablebody1 = $('#tablebodyNH41'),
            tablebody2 = $('#tablebodyNH42');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].nH4 != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].nH4 + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvnH4 ? data.titable1[i].izvnH4.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].nH4 != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].nH4 + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvnH4 ? data.titable2[i].izvnH4.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartNH41 = null,
        ChartNH42 = null;
    function ChartNH4(data) {
        if (ChartNH41 != null) {
            ChartNH41.destroy();
        }
        var ctx1 = document.getElementById("chartNH41").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].nH4 != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].nH4
                    });
                }
            }
        }
        ChartNH41 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#NH4').val(),
                    data: data1,
                    backgroundColor: chartColorTINH4,
                    borderColor: chartColorTINH4,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#NH4').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartNH42 != null) {
            ChartNH42.destroy();
        }
        var ctx2 = document.getElementById("chartNH42").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].nH4 != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].nH4
                    });
                }
            }
        }
        ChartNH42 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#NH4').val(),
                    data: data2,
                    backgroundColor: chartColorTINH4,
                    borderColor: chartColorTINH4,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#NH4').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableNO2(data) {
        var tablebody1 = $('#tablebodyNO21'),
            tablebody2 = $('#tablebodyNO22');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].nO2 != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].nO2 + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvnO2 ? data.titable1[i].izvnO2.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].nO2 != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].nO2 + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvnO2? data.titable2[i].izvnO2.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartNO21 = null,
        ChartNO22 = null;
    function ChartNO2(data) {
        if (ChartNO21 != null) {
            ChartNO21.destroy();
        }
        var ctx1 = document.getElementById("chartNO21").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].nO2 != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].nO2
                    });
                }
            }
        }
        ChartNO21 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#NO2').val(),
                    data: data1,
                    backgroundColor: chartColorTINO2,
                    borderColor: chartColorTINO2,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#NO2').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartNO22 != null) {
            ChartNO22.destroy();
        }
        var ctx2 = document.getElementById("chartNO22").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].nO2 != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].nO2
                    });
                }
            }
        }
        ChartNO22 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#NO2').val(),
                    data: data2,
                    backgroundColor: chartColorTINO2,
                    borderColor: chartColorTINO2,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#NO2').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableNO3(data) {
        var tablebody1 = $('#tablebodyNO31'),
            tablebody2 = $('#tablebodyNO32');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].nO3 != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].nO3 + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvnO3 ? data.titable1[i].izvnO3.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].nO3 != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].nO3 + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvnO3 ? data.titable2[i].izvnO3.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartNO31 = null,
        ChartNO32 = null;
    function ChartNO3(data) {
        if (ChartNO31 != null) {
            ChartNO31.destroy();
        }
        var ctx1 = document.getElementById("chartNO31").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].nO3 != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].nO3
                    });
                }
            }
        }
        ChartNO31 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#NO3').val(),
                    data: data1,
                    backgroundColor: chartColorTINO3,
                    borderColor: chartColorTINO3,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#NO3').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartNO32 != null) {
            ChartNO32.destroy();
        }
        var ctx2 = document.getElementById("chartNO32").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].nO3 != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].nO3
                    });
                }
            }
        }
        ChartNO32 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#NO3').val(),
                    data: data2,
                    backgroundColor: chartColorTINO3,
                    borderColor: chartColorTINO3,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#NO3').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TablePPO4(data) {
        var tablebody1 = $('#tablebodyPPO41'),
            tablebody2 = $('#tablebodyPPO42');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].ppO4 != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].ppO4 + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvppO4? data.titable1[i].izvppO4.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].ppO4 != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].ppO4 + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvppO4 ? data.titable2[i].izvppO4.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartPPO41 = null,
        ChartPPO42 = null;
    function ChartPPO4(data) {
        if (ChartPPO41 != null) {
            ChartPPO41.destroy();
        }
        var ctx1 = document.getElementById("chartPPO41").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].ppO4 != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].ppO4
                    });
                }
            }
        }
        ChartPPO41 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#PPO4').val(),
                    data: data1,
                    backgroundColor: chartColorTIPPO4,
                    borderColor: chartColorTIPPO4,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#PPO4').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartPPO42 != null) {
            ChartPPO42.destroy();
        }
        var ctx2 = document.getElementById("chartPPO42").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].ppO4 != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].ppO4
                    });
                }
            }
        }
        ChartPPO42 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#PPO4').val(),
                    data: data2,
                    backgroundColor: chartColorTIPPO4,
                    borderColor: chartColorTIPPO4,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#PPO4').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableCu(data) {
        var tablebody1 = $('#tablebodyCu1'),
            tablebody2 = $('#tablebodyCu2');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].cu != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].cu + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvCu ? data.titable1[i].izvCu.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].cu != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].cu + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvCu ? data.titable2[i].izvCu.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartCu1 = null,
        ChartCu2 = null;
    function ChartCu(data) {
        if (ChartCu1 != null) {
            ChartCu1.destroy();
        }
        var ctx1 = document.getElementById("chartCu1").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].cu != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].cu
                    });
                }
            }
        }
        ChartCu1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Cu').val(),
                    data: data1,
                    backgroundColor: chartColorTICu,
                    borderColor: chartColorTICu,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Cu').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartCu2 != null) {
            ChartCu2.destroy();
        }
        var ctx2 = document.getElementById("chartCu2").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].cu != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].cu
                    });
                }
            }
        }
        ChartCu2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Cu').val(),
                    data: data2,
                    backgroundColor: chartColorTICu,
                    borderColor: chartColorTICu,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Cu').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableZn(data) {
        var tablebody1 = $('#tablebodyZn1'),
            tablebody2 = $('#tablebodyZn2');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].zn != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].zn + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvZn? data.titable1[i].izvZn.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].zn != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].zn + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvZn? data.titable2[i].izvZn.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartZn1 = null,
        ChartZn2 = null;
    function ChartZn(data) {
        if (ChartZn1 != null) {
            ChartZn1.destroy();
        }
        var ctx1 = document.getElementById("chartZn1").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].zn != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].zn
                    });
                }
            }
        }
        ChartZn1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Zn').val(),
                    data: data1,
                    backgroundColor: chartColorTIZn,
                    borderColor: chartColorTIZn,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Zn').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartZn2 != null) {
            ChartZn2.destroy();
        }
        var ctx2 = document.getElementById("chartZn2").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].zn != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].zn
                    });
                }
            }
        }
        ChartZn2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Zn').val(),
                    data: data2,
                    backgroundColor: chartColorTIZn,
                    borderColor: chartColorTIZn,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Zn').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableMn(data) {
        var tablebody1 = $('#tablebodyMn1'),
            tablebody2 = $('#tablebodyMn2');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].mn != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].mn + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvMn ? data.titable1[i].izvMn.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].mn != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].mn + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvMn ? data.titable2[i].izvMn.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartMn1 = null,
        ChartMn2 = null;
    function ChartMn(data) {
        if (ChartMn1 != null) {
            ChartMn1.destroy();
        }
        var ctx1 = document.getElementById("chartMn1").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].mn != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].mn
                    });
                }
            }
        }
        ChartMn1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Mn').val(),
                    data: data1,
                    backgroundColor: chartColorTIMn,
                    borderColor: chartColorTIMn,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Mn').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartMn2 != null) {
            ChartMn2.destroy();
        }
        var ctx2 = document.getElementById("chartMn2").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].mn != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].mn
                    });
                }
            }
        }
        ChartMn2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Mn').val(),
                    data: data2,
                    backgroundColor: chartColorTIMn,
                    borderColor: chartColorTIMn,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Mn').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TablePb(data) {
        var tablebody1 = $('#tablebodyPb1'),
            tablebody2 = $('#tablebodyPb2');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].pb != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].pb + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvPb ? data.titable1[i].izvPb.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].pb != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].pb + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvPb ? data.titable2[i].izvPb.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartPb1 = null,
        ChartPb2 = null;
    function ChartPb(data) {
        if (ChartPb1 != null) {
            ChartPb1.destroy();
        }
        var ctx1 = document.getElementById("chartPb1").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].pb != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].pb
                    });
                }
            }
        }
        ChartPb1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Pb').val(),
                    data: data1,
                    backgroundColor: chartColorTIPb,
                    borderColor: chartColorTIPb,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Pb').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartPb2 != null) {
            ChartPb2.destroy();
        }
        var ctx2 = document.getElementById("chartPb2").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].pb != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].pb
                    });
                }
            }
        }
        ChartPb2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Pb').val(),
                    data: data2,
                    backgroundColor: chartColorTIPb,
                    borderColor: chartColorTIPb,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Pb').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableNi(data) {
        var tablebody1 = $('#tablebodyNi1'),
            tablebody2 = $('#tablebodyNi2');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].ni != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].ni + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvNi ? data.titable1[i].izvNi.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].ni != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].ni + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvNi ? data.titable2[i].izvNi.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartNi1 = null,
        ChartNi2 = null;
    function ChartNi(data) {
        if (ChartNi1 != null) {
            ChartNi1.destroy();
        }
        var ctx1 = document.getElementById("chartNi1").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].ni != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].ni
                    });
                }
            }
        }
        ChartNi1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Ni').val(),
                    data: data1,
                    backgroundColor: chartColorTINi,
                    borderColor: chartColorTINi,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Ni').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartNi2 != null) {
            ChartNi2.destroy();
        }
        var ctx2 = document.getElementById("chartNi2").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].ni != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].ni
                    });
                }
            }
        }
        ChartNi2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Ni').val(),
                    data: data2,
                    backgroundColor: chartColorTINi,
                    borderColor: chartColorTINi,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Ni').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableCd(data) {
        var tablebody1 = $('#tablebodyCd1'),
            tablebody2 = $('#tablebodyCd2');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].cd != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].cd + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvCd ? data.titable1[i].izvCd.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].cd != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].cd + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvCd ? data.titable2[i].izvCd.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartCd1 = null,
        ChartCd2 = null;
    function ChartCd(data) {
        if (ChartCd1 != null) {
            ChartCd1.destroy();
        }
        var ctx1 = document.getElementById("chartCd1").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].cd != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].cd
                    });
                }
            }
        }
        ChartCd1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Cd').val(),
                    data: data1,
                    backgroundColor: chartColorTICd,
                    borderColor: chartColorTICd,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Cd').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartCd2 != null) {
            ChartCd2.destroy();
        }
        var ctx2 = document.getElementById("chartCd2").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].cd != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].cd
                    });
                }
            }
        }
        ChartCd2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Cd').val(),
                    data: data2,
                    backgroundColor: chartColorTICd,
                    borderColor: chartColorTICd,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Cd').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    function TableCo(data) {
        var tablebody1 = $('#tablebodyCo1'),
            tablebody2 = $('#tablebodyCo2');
        tablebody1.html('');
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].co != null) {
                    var tr = $('<tr/>').appendTo(tablebody1);
                    tr.append('<td>' + data.titable1[i].year + '</td>');
                    tr.append('<td>' + data.titable1[i].co + '</td>');
                    tr.append('<td>' + (data.titable1[i].izvCo ? data.titable1[i].izvCo.toFixed(2) : null) + '</td>');
                }
            }
        }
        tablebody2.html('');
        if (data.titable2 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].co != null) {
                    var tr = $('<tr/>').appendTo(tablebody2);
                    tr.append('<td>' + data.titable2[i].year + '</td>');
                    tr.append('<td>' + data.titable2[i].co + '</td>');
                    tr.append('<td>' + (data.titable2[i].izvCo ? data.titable2[i].izvCo.toFixed(2) : null) + '</td>');
                }
            }
        }
        $('.TI').hide();
    }

    var ChartCo1 = null,
        ChartCo2 = null;
    function ChartCo(data) {
        if (ChartCo1 != null) {
            ChartCo1.destroy();
        }
        var ctx1 = document.getElementById("chartCo1").getContext('2d');
        var data1 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable1.length; i++) {
                if (data.titable1[i].co != null) {
                    data1.push({
                        'x': data.titable1[i].year,
                        'y': data.titable1[i].co
                    });
                }
            }
        }
        ChartCo1 = new Chart(ctx1, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Co').val(),
                    data: data1,
                    backgroundColor: chartColorTICo,
                    borderColor: chartColorTICo,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                spanGaps: true,
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Co').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
        if (ChartCo2 != null) {
            ChartCo2.destroy();
        }
        var ctx2 = document.getElementById("chartCo2").getContext('2d');
        var data2 = [];
        if (data.titable1 != null) {
            for (var i = 0; i < data.titable2.length; i++) {
                if (data.titable2[i].co != null) {
                    data2.push({
                        'x': data.titable2[i].year,
                        'y': data.titable2[i].co
                    });
                }
            }
        }
        ChartCo2 = new Chart(ctx2, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: $('#Co').val(),
                    data: data2,
                    backgroundColor: chartColorTICo,
                    borderColor: chartColorTICo,
                    borderWidth: 1,
                    fill: false,
                    showLine: true,
                    lineTension: 0
                }]
            },
            options: {
                title: {
                    display: true,
                    text: $('#Name').text() + ' (' + $('#LakeIdInfo').text() + '). ' + $('#Co').val()
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Year').val()
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: $('#Value').val()
                        }
                    }]
                }
            }
        });
    }

    ///////////////////////////

    function ShowTableMineralization1() {
        $('.GHI').hide();
        $('#tableMineralization1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableMineralization2() {
        $('.GHI').hide();
        $('#tableMineralization2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartMineralization1() {
        $('.GHI').hide();
        $('#chartMineralization1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartMineralization2() {
        $('.GHI').hide();
        $('#chartMineralization2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableTotalHardness1() {
        $('.GHI').hide();
        $('#tableTotalHardness1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableTotalHardness2() {
        $('.GHI').hide();
        $('#tableTotalHardness2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartTotalHardness1() {
        $('.GHI').hide();
        $('#chartTotalHardness1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartTotalHardness2() {
        $('.GHI').hide();
        $('#chartTotalHardness2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').show();
    }

    function ShowTableDissOxygWater1() {
        $('.GHI').hide();
        $('#tableDissOxygWater1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableDissOxygWater2() {
        $('.GHI').hide();
        $('#tableDissOxygWater2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartDissOxygWater1() {
        $('.GHI').hide();
        $('#chartDissOxygWater1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartDissOxygWater2() {
        $('.GHI').hide();
        $('#chartDissOxygWater2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').show();
    }

    function ShowTablePercentOxygWater1() {
        $('.GHI').hide();
        $('#tablePercentOxygWater1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTablePercentOxygWater2() {
        $('.GHI').hide();
        $('#tablePercentOxygWater2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartPercentOxygWater1() {
        $('.GHI').hide();
        $('#chartPercentOxygWater1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartPercentOxygWater2() {
        $('.GHI').hide();
        $('#chartPercentOxygWater2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').show();
    }

    function ShowTablepH1() {
        $('.GHI').hide();
        $('#tablepH1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTablepH2() {
        $('.GHI').hide();
        $('#tablepH2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartpH1() {
        $('.GHI').hide();
        $('#chartpH1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartpH2() {
        $('.GHI').hide();
        $('#chartpH2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').show();
    }

    function ShowTableOrganicSubstances1() {
        $('.GHI').hide();
        $('#tableOrganicSubstances1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableOrganicSubstances2() {
        $('.GHI').hide();
        $('#tableOrganicSubstances2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartOrganicSubstances1() {
        $('.GHI').hide();
        $('#chartOrganicSubstances1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartOrganicSubstances2() {
        $('.GHI').hide();
        $('#chartOrganicSubstances2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').show();
    }

    function ShowTableAlekinWaterCompositionClass1() {
        $('.IWC').hide();
        $('#tableAlekinWaterCompositionClass1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableAlekinWaterCompositionClass2() {
        $('.IWC').hide();
        $('#tableAlekinWaterCompositionClass2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableKurlovFormula1() {
        $('.IWC').hide();
        $('#tableKurlovFormula1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableKurlovFormula2() {
        $('.IWC').hide();
        $('#tableKurlovFormula2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableNH41() {
        $('.TI').hide();
        $('#tableNH41').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableNH42() {
        $('.TI').hide();
        $('#tableNH42').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartNH41() {
        $('.TI').hide();
        $('#chartNH41').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartNH42() {
        $('.TI').hide();
        $('#chartNH42').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableNO21() {
        $('.TI').hide();
        $('#tableNO21').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableNO22() {
        $('.TI').hide();
        $('#tableNO22').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartNO21() {
        $('.TI').hide();
        $('#chartNO21').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartNO22() {
        $('.TI').hide();
        $('#chartNO22').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableNO31() {
        $('.TI').hide();
        $('#tableNO31').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableNO32() {
        $('.TI').hide();
        $('#tableNO32').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartNO31() {
        $('.TI').hide();
        $('#chartNO31').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartNO32() {
        $('.TI').hide();
        $('#chartNO32').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTablePPO41() {
        $('.TI').hide();
        $('#tablePPO41').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTablePPO42() {
        $('.TI').hide();
        $('#tablePPO42').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartPPO41() {
        $('.TI').hide();
        $('#chartPPO41').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartPPO42() {
        $('.TI').hide();
        $('#chartPPO42').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableCu1() {
        $('.TI').hide();
        $('#tableCu1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableCu2() {
        $('.TI').hide();
        $('#tableCu2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartCu1() {
        $('.TI').hide();
        $('#chartCu1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartCu2() {
        $('.TI').hide();
        $('#chartCu2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableZn1() {
        $('.TI').hide();
        $('#tableZn1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableZn2() {
        $('.TI').hide();
        $('#tableZn2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartZn1() {
        $('.TI').hide();
        $('#chartZn1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartZn2() {
        $('.TI').hide();
        $('#chartZn2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableMn1() {
        $('.TI').hide();
        $('#tableMn1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableMn2() {
        $('.TI').hide();
        $('#tableMn2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartMn1() {
        $('.TI').hide();
        $('#chartMn1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartMn2() {
        $('.TI').hide();
        $('#chartMn2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTablePb1() {
        $('.TI').hide();
        $('#tablePb1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTablePb2() {
        $('.TI').hide();
        $('#tablePb2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartPb1() {
        $('.TI').hide();
        $('#chartPb1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartPb2() {
        $('.TI').hide();
        $('#chartPb2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableNi1() {
        $('.TI').hide();
        $('#tableNi1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableNi2() {
        $('.TI').hide();
        $('#tableNi2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartNi1() {
        $('.TI').hide();
        $('#chartNi1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartNi2() {
        $('.TI').hide();
        $('#chartNi2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableCd1() {
        $('.TI').hide();
        $('#tableCd1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableCd2() {
        $('.TI').hide();
        $('#tableCd2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartCd1() {
        $('.TI').hide();
        $('#chartCd1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartCd2() {
        $('.TI').hide();
        $('#chartCd2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowTableCo1() {
        $('.TI').hide();
        $('#tableCo1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowTableCo2() {
        $('.TI').hide();
        $('#tableCo2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }

    function ShowChartCo1() {
        $('.TI').hide();
        $('#chartCo1').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.FreshPart').show();
        }
    }

    function ShowChartCo2() {
        $('.TI').hide();
        $('#chartCo2').show();
        $('.FreshPart').hide();
        $('.SaltyPart').hide();
        if (twoparts) {
            $('.SaltyPart').show();
        }
    }
</script>
@* ChangeDataType, SlideYear, ChangeYear *@
<script>
    function SlideYear(year) {
        $('#year').html(year);
    };

    function ChangeDataType() {
        var year = $('#Year').val();
        if ($('#DataType').val() == "WaterLevels") {
            $.ajax({
                url: '@Url.Action("GetWaterLevelsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.WaterLevel').show();
        }
        else if ($('#DataType').val() == "SurfaceFlows") {
            $.ajax({
                url: '@Url.Action("GetSurfaceFlowsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.SurfaceFlow').show();
        }
        else if ($('#DataType').val() == "Precipitations") {
            $.ajax({
                url: '@Url.Action("GetPrecipitationsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.Precipitation').show();
        }
        else if ($('#DataType').val() == "UndergroundFlows") {
            $.ajax({
                url: '@Url.Action("GetUndergroundFlowsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.UndergroundFlow').show();
        }
        else if ($('#DataType').val() == "SurfaceOutflows") {
            $.ajax({
                url: '@Url.Action("GetSurfaceOutflowsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.SurfaceOutflow').show();
        }
        else if ($('#DataType').val() == "Evaporations") {
            $.ajax({
                url: '@Url.Action("GetEvaporationsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.Evaporation').show();
        }
        else if ($('#DataType').val() == "UndergroundOutflows") {
            $.ajax({
                url: '@Url.Action("GetUndergroundOutflowsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.UndergroundOutflow').show();
        }
        else if ($('#DataType').val() == "HydrochemistryMineralizations") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryMineralizationsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryMineralization').show();
        }
        else if ($('#DataType').val() == "HydrochemistryTotalHardnesss") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryTotalHardnesssStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryTotalHardness').show();
        }
        else if ($('#DataType').val() == "HydrochemistryDissOxygWaters") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryDissOxygWatersStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryDissOxygWater').show();
        }
        else if ($('#DataType').val() == "HydrochemistryPercentOxygWaters") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryPercentOxygWatersStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryPercentOxygWater').show();
        }
        else if ($('#DataType').val() == "HydrochemistrypHs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistrypHsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistrypH').show();
        }
        else if ($('#DataType').val() == "HydrochemistryOrganicSubstancess") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryOrganicSubstancessStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryOrganicSubstances').show();
        }
        else if ($('#DataType').val() == "HydrochemistryCas") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryCasStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryCa').show();
        }
        else if ($('#DataType').val() == "HydrochemistryMgs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryMgsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryMg').show();
        }
        else if ($('#DataType').val() == "HydrochemistryNaKs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryNaKsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryNaK').show();
        }
        else if ($('#DataType').val() == "HydrochemistryCls") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryClsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryCl').show();
        }
        else if ($('#DataType').val() == "HydrochemistryHCOs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryHCOsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryHCO').show();
        }
        else if ($('#DataType').val() == "HydrochemistrySOs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistrySOsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistrySO').show();
        }
        else if ($('#DataType').val() == "HydrochemistryNHs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryNHsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.WaterLevel').show();
        }
        else if ($('#DataType').val() == "HydrochemistryNO2s") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryNO2sStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryNO2').show();
        }
        else if ($('#DataType').val() == "HydrochemistryNO3s") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryNO3sStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryNO3').show();
        }
        else if ($('#DataType').val() == "HydrochemistryPPOs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryPPOsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryPPO').show();
        }
        else if ($('#DataType').val() == "HydrochemistryCus") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryCusStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryCu').show();
        }
        else if ($('#DataType').val() == "HydrochemistryZns") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryZnsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryZn').show();
        }
        else if ($('#DataType').val() == "HydrochemistryMns") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryMnsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryMn').show();
        }
        else if ($('#DataType').val() == "HydrochemistryPbs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryPbsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryPb').show();
        }
        else if ($('#DataType').val() == "HydrochemistryNis") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryNisStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryNi').show();
        }
        else if ($('#DataType').val() == "HydrochemistryCds") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryCdsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryCd').show();
        }
        else if ($('#DataType').val() == "HydrochemistryCos") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryCosStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryCo').show();
        }
        else if ($('#DataType').val() == "HydrochemistryCIWPs") {
            $.ajax({
                url: '@Url.Action("GetHydrochemistryCIWPsStyleLink", "Layers")',
                data: { Year: year, LayerId: @ViewBag.LakesLayer.Id },
                type: 'POST',
                success: function (data) {
                    var Source_New = new ol.source.TileWMS({
                        url: 'http://' + geoserverAddress + ':' + geoserverPort + '/geoserver/ELake/wms?' + data,
                        params: {
                            'LAYERS': 'ELake:@ViewBag.LakesLayer.GeoServerName',
                            'VERSION': '1.1.0',
                            'FORMAT': 'image/png',
                            'TILED': true
                        },
                        serverType: 'geoserver'
                    });
                    var l = map.getLayers().getArray()[1];
                    l.setSource(Source_New);
                },
                error: function () {
                }
            });
            $('.Legend').hide();
            $('.HydrochemistryCIWP').show();
        }
    };
</script>
@*Map onclick*@
<script>
    map.on('singleclick', function (evt) {
        Source_Lake.clear();
        var viewResolution = (map.getView().getResolution());
        var url = Source_Lakes.getGetFeatureInfoUrl(
            evt.coordinate, viewResolution, 'EPSG:3857',
            {
                'INFO_FORMAT': 'text/javascript'
                //'FEATURE_COUNT': '10000'
            });
        if (url) {
            var parser = new ol.format.GeoJSON();
            $.ajax({
                jsonp: false,
                jsonpCallback: 'getJson',
                type: 'GET',
                url: url + "&format_options=callback:getJson",
                async: false,
                dataType: 'jsonp',
                //jsonpCallback: 'parseResponse',
                error: function (xhr, status, error) {

                }
            }).then(function (response) {
                var result = parser.readFeatures(response);
                if (result.length > 0) {
                    SelectLakeZoom(result[0].get('id'), false);
                }
            })
        }
    })
</script>
@* SearchChange *@
<script>
    // select - выбранный на главной странице
    function SearchChange(select) {
        var Adm1KATOId = null,
            Adm2KATOId = null,
            VHB = null,
            VHU = null,
            System = null;
        if ($("input[name='filtertabs']:checked").val() == 'filterKATO') {
            Adm1KATOId = $('#adm1').val();
            Adm2KATOId = $('#adm2').val();
        }
        else if ($("input[name='filtertabs']:checked").val() == 'filterVHBVHU') {
            VHB = $('#svhb').val();
            VHU = $('#svhu').val();
        }
        else if ($("input[name='filtertabs']:checked").val() == 'filterSystem') {
            System = $('#ssystem').val();
        }
        $("#LakeId").LoadingOverlay("show");
        $.ajax({
            url: '@Url.Action("GetLakes")',
            data: {
                Search: $('#search').val(),
                Adm1KATOId: Adm1KATOId,
                Adm2KATOId: Adm2KATOId,
                VHB: VHB,
                VHU: VHU,
                LakeSystem: System
            },
            type: 'POST',
            success: function (data) {
                var $dropdown = $("#LakeId");
                $dropdown.find('option')
                    .remove();
                $.each(data.lakes, function () {
                    $dropdown.append($("<option />").val(this.lakeId).text(this.name));
                });
                if (select > 0) {
                    $("#LakeId").val(select);
                }
                $('#foundLakes').text($('#Found').val() + ': ' + data.lakes.length.toString());
                $("#LakeId").LoadingOverlay("hide");
            },
            error: function () {
                $("#LakeId").LoadingOverlay("hide");
            }
        });
    }

    function GetAdm1() {
        var $dropdown = $("#adm1");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetAdm1")',
            data: {
                Search: $('#search').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.adm1, function () {
                    $dropdown.append($("<option />").val(this.id).text(this.name));
                });
            },
            error: function () {
            }
        });
    }

    function GetAdm2() {
        var $dropdown = $("#adm2");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetAdm2")',
            data: {
                Search: $('#search').val(),
                Adm1KATOId: $('#adm1').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.adm2, function () {
                    $dropdown.append($("<option />").val(this.id).text(this.name));
                });
            },
            error: function () {
            }
        });
    }

    function GetVHB() {
        var $dropdown = $("#svhb");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetVHB")',
            data: {
                Search: $('#search').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.vhb, function () {
                    $dropdown.append($("<option />").val(this).text(this));
                });
            },
            error: function () {
            }
        });
    }

    function GetVHU() {
        var $dropdown = $("#svhu");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetVHU")',
            data: {
                Search: $('#search').val(),
                VHB: $('#svhb').val()
            },
            type: 'POST',
            success: function (data) {
                
                $dropdown.append($("<option />"));
                $.each(data.vhu, function () {
                    $dropdown.append($("<option />").val(this).text(this));
                });
            },
            error: function () {
            }
        });
    }

    function GetSystem() {
        var $dropdown = $("#ssystem");
        $dropdown.find('option')
            .remove();
        $.ajax({
            url: '@Url.Action("GetSystem")',
            data: {
                Search: $('#search').val()
            },
            type: 'POST',
            success: function (data) {
                $dropdown.append($("<option />"));
                $.each(data.system, function () {
                    $dropdown.append($("<option />").val(this.lakeSystemId).text(this.name));
                });
            },
            error: function () {
            }
        });
    }

    function ResetSearch() {
        $('#search').val('');
        GetAdm1();
        GetAdm2();
        GetVHB();
        GetVHU();
        GetSystem();
        SearchChange(0);
    }
</script>
@* $(document).ready(function () {}) *@
<script>
    //function Test() {
    //    $("#LakeGroup").hide();
    //    alert(1);
    //}

    $(document).ready(function () {
        $("#LakeGroup").hide();
        ChangeDataType();
        $('#search').val($('#LakeName').val());
        if ($('#ViewBagLakeId').val() != '') {
            GetAdm1(); GetAdm2(); GetVHB(); GetVHU(); 
            SearchChange($('#ViewBagLakeId').val());
        }
        else {
            SearchChange(0);
        }
    });
</script>